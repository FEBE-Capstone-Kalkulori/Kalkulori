{"version":3,"file":"app~f461186e.bundle.js","mappings":"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","sources":["webpack://kalkulori/./src/scripts/pages/profile/profile-view.js"],"sourcesContent":["import Header from \"../../components/header.js\";\r\n\r\nconst createProfileTemplate = (userData, isEditMode = false) => {\r\n  const getActivityLevelDisplay = (level) => {\r\n    const mapping = {\r\n      daily: \"Daily\",\r\n      regularly: \"Regularly\",\r\n      occasionally: \"Occasionally\",\r\n      rarely: \"Rarely\",\r\n      never: \"Never\",\r\n    };\r\n    return mapping[level] || level;\r\n  };\r\n\r\n  // Helper function to generate form fields (to avoid code duplication)\r\n  const generateFormFields = (\r\n    userData,\r\n    isEditMode,\r\n    getActivityLevelDisplay,\r\n    layoutPrefix = \"\"\r\n  ) => {\r\n    return `\r\n      <!-- Name Field -->\r\n      <div class=\"flex flex-col\">\r\n        <label for=\"name${layoutPrefix}\" class=\"text-base text-gray-800 mb-2 font-cal-sans\">Name</label>\r\n        ${\r\n          isEditMode\r\n            ? `<input type=\"text\" id=\"name${layoutPrefix}\" class=\"profile-name-input bg-white border-none rounded-full px-5 py-3 font-cal-sans text-base text-gray-400 w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-accent-green\" value=\"${\r\n                userData.name || \"\"\r\n              }\" placeholder=\"Enter your name\">`\r\n            : `<div class=\"bg-white rounded-full px-5 py-3 font-cal-sans text-base text-gray-400 shadow-sm\">${\r\n                userData.name || \"\"\r\n              }</div>`\r\n        }\r\n      </div>\r\n      \r\n      <!-- Gender and Age Row -->\r\n      <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8\">\r\n        <!-- Gender Field -->\r\n        <div class=\"flex flex-col\">\r\n          <label class=\"font-cal-sans text-base text-gray-800 mb-2\">Gender</label>\r\n          ${\r\n            isEditMode\r\n              ? `\r\n            <div class=\"flex gap-2 sm:gap-4\">\r\n              <button class=\"flex-1 bg-white border-none rounded-full px-3 sm:px-5 py-3 font-cal-sans text-sm sm:text-base text-gray-400 cursor-pointer transition-all duration-200 shadow-sm profile-male-option ${\r\n                userData.gender === \"male\"\r\n                  ? \"bg-blue-300 text-white\"\r\n                  : \"hover:bg-blue-100 hover:text-blue-600\"\r\n              }\" data-gender=\"male\">\r\n                <i class=\"fas fa-male mr-1 sm:mr-2\"></i> I am Male\r\n              </button>\r\n              <button class=\"flex-1 bg-white border-none rounded-full px-3 sm:px-5 py-3 font-cal-sans text-sm sm:text-base text-gray-400 cursor-pointer transition-all duration-200 shadow-sm profile-female-option ${\r\n                userData.gender === \"female\"\r\n                  ? \"bg-pink-300 text-white\"\r\n                  : \"hover:bg-pink-100 hover:text-pink-600\"\r\n              }\" data-gender=\"female\">\r\n                <i class=\"fas fa-female mr-1 sm:mr-2\"></i> I am Female\r\n              </button>\r\n            </div>\r\n          `\r\n              : `\r\n            <div class=\"bg-white rounded-full px-5 py-3 font-cal-sans text-base text-gray-400 shadow-sm\">${\r\n              userData.gender === \"male\"\r\n                ? \"I am Male\"\r\n                : userData.gender === \"female\"\r\n                ? \"I am Female\"\r\n                : \"\"\r\n            }</div>\r\n          `\r\n          }\r\n        </div>\r\n        \r\n        <!-- Age Field -->\r\n        <div class=\"flex flex-col\">\r\n          <label for=\"age${layoutPrefix}\" class=\"text-base text-gray-800 mb-2 font-cal-sans\">Age</label>\r\n          ${\r\n            isEditMode\r\n              ? `<div class=\"relative flex items-center\">\r\n              <input type=\"number\" id=\"age${layoutPrefix}\" class=\"profile-age-input bg-white border-none rounded-full px-5 py-3 pr-16 font-cal-sans text-base text-gray-400 w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-accent-green [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]\" value=\"${\r\n                  userData.age || \"\"\r\n                }\" min=\"1\" max=\"120\">\r\n              <div class=\"absolute right-2 flex flex-col gap-0.5\">\r\n                <button type=\"button\" class=\"w-6 h-6 flex items-center justify-center text-gray-300 transition-colors duration-200 hover:text-accent-green bg-none border-none cursor-pointer profile-number-control\" data-input=\"age\" data-action=\"increment\"><i class=\"fas fa-chevron-up text-xs\"></i></button>\r\n                <button type=\"button\" class=\"w-6 h-6 flex items-center justify-center text-gray-300 transition-colors duration-200 hover:text-accent-green bg-none border-none cursor-pointer profile-number-control\" data-input=\"age\" data-action=\"decrement\"><i class=\"fas fa-chevron-down text-xs\"></i></button>\r\n              </div>\r\n            </div>`\r\n              : `<div class=\"bg-white rounded-full px-5 py-3 font-cal-sans text-base text-gray-400 shadow-sm\">${\r\n                  userData.age || \"\"\r\n                }</div>`\r\n          }\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Weight and Height Row -->\r\n      <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8\">\r\n        <!-- Weight Field -->\r\n        <div class=\"flex flex-col\">\r\n          <label for=\"weight${layoutPrefix}\" class=\"text-base text-gray-800 mb-2 font-cal-sans\">Weight</label>\r\n          ${\r\n            isEditMode\r\n              ? `<div class=\"relative flex items-center\">\r\n              <input type=\"number\" id=\"weight${layoutPrefix}\" class=\"profile-weight-input bg-white border-none rounded-full px-5 py-3 pr-16 font-cal-sans text-base text-gray-400 w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-accent-green [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]\" value=\"${\r\n                  userData.weight || \"\"\r\n                }\" min=\"1\" max=\"500\">\r\n              <span class=\"absolute right-14 font-cal-sans text-gray-400\">kg</span>\r\n              <div class=\"absolute right-2 flex flex-col gap-0.5\">\r\n                <button type=\"button\" class=\"w-6 h-6 flex items-center justify-center text-gray-300 transition-colors duration-200 hover:text-accent-green bg-none border-none cursor-pointer profile-number-control\" data-input=\"weight\" data-action=\"increment\"><i class=\"fas fa-chevron-up text-xs\"></i></button>\r\n                <button type=\"button\" class=\"w-6 h-6 flex items-center justify-center text-gray-300 transition-colors duration-200 hover:text-accent-green bg-none border-none cursor-pointer profile-number-control\" data-input=\"weight\" data-action=\"decrement\"><i class=\"fas fa-chevron-down text-xs\"></i></button>\r\n              </div>\r\n            </div>`\r\n              : `<div class=\"bg-white rounded-full px-5 py-3 font-cal-sans text-base text-gray-400 shadow-sm\">${\r\n                  userData.weight || \"\"\r\n                } kg</div>`\r\n          }\r\n        </div>\r\n        \r\n        <!-- Height Field -->\r\n        <div class=\"flex flex-col\">\r\n          <label for=\"height${layoutPrefix}\" class=\"text-base text-gray-800 mb-2 font-cal-sans\">Height</label>\r\n          ${\r\n            isEditMode\r\n              ? `<div class=\"relative flex items-center\">\r\n              <input type=\"number\" id=\"height${layoutPrefix}\" class=\"profile-height-input bg-white border-none rounded-full px-5 py-3 pr-16 font-cal-sans text-base text-gray-400 w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-accent-green [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]\" value=\"${\r\n                  userData.height || \"\"\r\n                }\" min=\"1\" max=\"300\">\r\n              <span class=\"absolute right-14 font-cal-sans text-gray-400\">cm</span>\r\n              <div class=\"absolute right-2 flex flex-col gap-0.5\">\r\n                <button type=\"button\" class=\"w-6 h-6 flex items-center justify-center text-gray-300 transition-colors duration-200 hover:text-accent-green bg-none border-none cursor-pointer profile-number-control\" data-input=\"height\" data-action=\"increment\"><i class=\"fas fa-chevron-up text-xs\"></i></button>\r\n                <button type=\"button\" class=\"w-6 h-6 flex items-center justify-center text-gray-300 transition-colors duration-200 hover:text-accent-green bg-none border-none cursor-pointer profile-number-control\" data-input=\"height\" data-action=\"decrement\"><i class=\"fas fa-chevron-down text-xs\"></i></button>\r\n              </div>\r\n            </div>`\r\n              : `<div class=\"bg-white rounded-full px-5 py-3 font-cal-sans text-base text-gray-400 shadow-sm\">${\r\n                  userData.height || \"\"\r\n                } cm</div>`\r\n          }\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Target Weight and Activity Level Row -->\r\n      <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-8\">\r\n        <!-- Target Weight Field -->\r\n        <div class=\"flex flex-col\">\r\n          <label for=\"targetWeight${layoutPrefix}\" class=\"text-base text-gray-800 mb-2 font-cal-sans\">Target Weight</label>\r\n          ${\r\n            isEditMode\r\n              ? `<div class=\"relative flex items-center\">\r\n              <input type=\"number\" id=\"targetWeight${layoutPrefix}\" class=\"profile-target-weight-input bg-white border-none rounded-full px-5 py-3 pr-16 font-cal-sans text-base text-gray-400 w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-accent-green [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]\" value=\"${\r\n                  userData.targetWeight || \"\"\r\n                }\" min=\"1\" max=\"500\">\r\n              <span class=\"absolute right-14 font-cal-sans text-gray-400\">kg</span>\r\n              <div class=\"absolute right-2 flex flex-col gap-0.5\">\r\n                <button type=\"button\" class=\"w-6 h-6 flex items-center justify-center text-gray-300 transition-colors duration-200 hover:text-accent-green bg-none border-none cursor-pointer profile-number-control\" data-input=\"targetWeight\" data-action=\"increment\"><i class=\"fas fa-chevron-up text-xs\"></i></button>\r\n                <button type=\"button\" class=\"w-6 h-6 flex items-center justify-center text-gray-300 transition-colors duration-200 hover:text-accent-green bg-none border-none cursor-pointer profile-number-control\" data-input=\"targetWeight\" data-action=\"decrement\"><i class=\"fas fa-chevron-down text-xs\"></i></button>\r\n              </div>\r\n            </div>`\r\n              : `<div class=\"bg-white rounded-full px-5 py-3 font-cal-sans text-base text-gray-400 shadow-sm\">${\r\n                  userData.targetWeight || \"\"\r\n                } ${userData.targetWeight ? \"kg\" : \"\"}</div>`\r\n          }\r\n        </div>\r\n        \r\n        <!-- Activity Level Field -->\r\n        <div class=\"flex flex-col\">\r\n          <label for=\"activityLevel${layoutPrefix}\" class=\"text-base text-gray-800 mb-2 font-cal-sans\">Activity Level</label>\r\n          ${\r\n            isEditMode\r\n              ? `\r\n            <div class=\"relative\">\r\n              <select id=\"activityLevel${layoutPrefix}\" class=\"profile-activity-level-input bg-white border-none rounded-full px-5 py-3 pr-10 font-cal-sans text-base text-gray-400 w-full shadow-sm cursor-pointer appearance-none focus:outline-none focus:ring-2 focus:ring-accent-green\">\r\n                <option value=\"\" disabled ${\r\n                  !userData.activityLevel ? \"selected\" : \"\"\r\n                }>Select level</option>\r\n                <option value=\"daily\" ${\r\n                  userData.activityLevel === \"daily\" ? \"selected\" : \"\"\r\n                }>Daily</option>\r\n                <option value=\"regularly\" ${\r\n                  userData.activityLevel === \"regularly\" ? \"selected\" : \"\"\r\n                }>Regularly</option>\r\n                <option value=\"occasionally\" ${\r\n                  userData.activityLevel === \"occasionally\" ? \"selected\" : \"\"\r\n                }>Occasionally</option>\r\n                <option value=\"rarely\" ${\r\n                  userData.activityLevel === \"rarely\" ? \"selected\" : \"\"\r\n                }>Rarely</option>\r\n                <option value=\"never\" ${\r\n                  userData.activityLevel === \"never\" ? \"selected\" : \"\"\r\n                }>Never</option>\r\n              </select>\r\n              <div class=\"absolute right-5 top-1/2 transform -translate-y-1/2 text-gray-300 pointer-events-none\"><i class=\"fas fa-chevron-down\"></i></div>\r\n            </div>\r\n          `\r\n              : `\r\n            <div class=\"bg-white rounded-full px-5 py-3 font-cal-sans text-base text-gray-400 shadow-sm\">${getActivityLevelDisplay(\r\n              userData.activityLevel\r\n            )}</div>\r\n          `\r\n          }\r\n        </div>\r\n      </div>\r\n    `;\r\n  };\r\n\r\n  return `\r\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n      <!-- Mobile Layout: Stack vertically -->\r\n      <div class=\"block lg:hidden\">\r\n        <!-- Header with title centered -->\r\n        <div class=\"text-center mb-8\">\r\n          <h2 class=\"text-3xl text-gray-800 font-cal-sans\">User Profile</h2>\r\n        </div>\r\n        \r\n        <!-- Avatar centered for mobile -->\r\n        <div class=\"flex justify-center mb-8\">\r\n          <div class=\"relative w-48 h-48 sm:w-56 sm:h-56\">\r\n            <div class=\"w-full h-full bg-white rounded-full overflow-hidden shadow-lg border-4 border-accent-yellow transition-all duration-300 hover:scale-105 hover:shadow-xl\">\r\n              <img src=\"${\r\n                userData.avatar || \"./public/image/default-avatar.png\"\r\n              }\" alt=\"User Avatar\" id=\"user-avatar-mobile\" class=\"profile-avatar w-full h-full object-cover transition-all duration-300\">\r\n            </div>\r\n            ${\r\n              isEditMode\r\n                ? `\r\n              <div class=\"absolute w-12 h-12 bg-white rounded-full flex items-center justify-center cursor-pointer shadow-lg text-amber-900 transition-all duration-200 hover:bg-accent-green hover:text-white z-10 border-2 border-accent-green profile-edit-avatar-btn\" style=\"right: 0.375rem; bottom: 0.375rem;\">\r\n                <i class=\"fas fa-pencil-alt text-sm\"></i>\r\n              </div>\r\n              <div class=\"absolute right-4 bottom-16 bg-white rounded-lg shadow-xl z-20 overflow-hidden hidden min-w-max profile-avatar-options\">\r\n                <div class=\"px-4 py-3 cursor-pointer transition-colors duration-200 whitespace-nowrap hover:bg-gray-50 flex items-center gap-3 border-b border-gray-100 profile-camera-option\">\r\n                  <i class=\"fas fa-camera w-4 text-amber-900\"></i> \r\n                  <span class=\"font-cal-sans text-sm text-gray-500\">Take photo</span>\r\n                </div>\r\n                <div class=\"px-4 py-3 cursor-pointer transition-colors duration-200 whitespace-nowrap hover:bg-gray-50 flex items-center gap-3 profile-gallery-option\">\r\n                  <i class=\"fas fa-images w-4 text-amber-900\"></i> \r\n                  <span class=\"font-cal-sans text-sm text-gray-500\">Choose from gallery</span>\r\n                </div>\r\n              </div>\r\n              <input type=\"file\" class=\"profile-file-input\" accept=\"image/*\" style=\"display: none;\">\r\n              <canvas class=\"profile-camera-canvas\" style=\"display: none;\"></canvas>\r\n            `\r\n                : \"\"\r\n            }\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Sign Out Button for mobile (if not edit mode) -->\r\n        ${\r\n          !isEditMode\r\n            ? `\r\n          <div class=\"flex justify-center mb-8\">\r\n            <button class=\"px-8 py-3 rounded-full text-base cursor-pointer transition-all duration-200 border-none font-cal-sans bg-amber-900 text-white hover:bg-amber-800 profile-sign-out-btn\">Sign Out</button>\r\n          </div>\r\n        `\r\n            : \"\"\r\n        }\r\n        \r\n        <!-- Form fields for mobile -->\r\n        <div class=\"space-y-6\">\r\n          ${generateFormFields(\r\n            userData,\r\n            isEditMode,\r\n            getActivityLevelDisplay,\r\n            \"-mobile\"\r\n          )}\r\n        </div>\r\n        \r\n        <!-- Action button for mobile -->\r\n        <div class=\"mt-8 flex justify-center\">\r\n          ${\r\n            isEditMode\r\n              ? `<button class=\"px-8 py-3 rounded-full text-base cursor-pointer transition-all duration-200 border-none bg-yellow-300 text-amber-900 font-cal-sans hover:bg-yellow-200 profile-save-data-btn\">Save Data</button>`\r\n              : `<button class=\"px-8 py-3 rounded-full text-base cursor-pointer transition-all duration-200 border-none bg-yellow-300 text-amber-900 font-cal-sans hover:bg-yellow-200 profile-update-data-btn\">Update Data</button>`\r\n          }\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Desktop Layout: Side by side -->\r\n      <div class=\"hidden lg:flex gap-12\">\r\n        <!-- Left side - Avatar and title -->\r\n        <div class=\"flex-shrink-0 w-64 flex flex-col items-center justify-start\">\r\n          <!-- Title centered above avatar -->\r\n          <h2 class=\"text-3xl text-gray-800 mb-6 font-cal-sans text-center\">User Profile</h2>\r\n          \r\n          <!-- Avatar -->\r\n          <div class=\"relative w-56 h-56 mb-6\">\r\n            <div class=\"w-full h-full bg-white rounded-full overflow-hidden shadow-lg border-4 border-accent-yellow transition-all duration-300 hover:scale-105 hover:shadow-xl\">\r\n              <img src=\"${\r\n                userData.avatar || \"./public/image/default-avatar.png\"\r\n              }\" alt=\"User Avatar\" id=\"user-avatar-desktop\" class=\"profile-avatar w-full h-full object-cover transition-all duration-300\">\r\n            </div>\r\n            ${\r\n              isEditMode\r\n                ? `\r\n              <div class=\"absolute w-12 h-12 bg-white rounded-full flex items-center justify-center cursor-pointer shadow-lg text-amber-900 transition-all duration-200 hover:bg-accent-green hover:text-white z-10 border-2 border-accent-green profile-edit-avatar-btn\" style=\"right: 0.375rem; bottom: 0.375rem;\">\r\n                <i class=\"fas fa-pencil-alt text-sm\"></i>\r\n              </div>\r\n              <div class=\"absolute right-4 bottom-16 bg-white rounded-lg shadow-xl z-20 overflow-hidden hidden min-w-max profile-avatar-options\">\r\n                <div class=\"px-4 py-3 cursor-pointer transition-colors duration-200 whitespace-nowrap hover:bg-gray-50 flex items-center gap-3 border-b border-gray-100 profile-camera-option\">\r\n                  <i class=\"fas fa-camera w-4 text-amber-900\"></i> \r\n                  <span class=\"font-cal-sans text-sm text-gray-500\">Take photo</span>\r\n                </div>\r\n                <div class=\"px-4 py-3 cursor-pointer transition-colors duration-200 whitespace-nowrap hover:bg-gray-50 flex items-center gap-3 profile-gallery-option\">\r\n                  <i class=\"fas fa-images w-4 text-amber-900\"></i> \r\n                  <span class=\"font-cal-sans text-sm text-gray-500\">Choose from gallery</span>\r\n                </div>\r\n              </div>\r\n              <input type=\"file\" class=\"profile-file-input\" accept=\"image/*\" style=\"display: none;\">\r\n              <canvas class=\"profile-camera-canvas\" style=\"display: none;\"></canvas>\r\n            `\r\n                : \"\"\r\n            }\r\n          </div>\r\n          \r\n          <!-- Sign Out Button for desktop -->\r\n          ${\r\n            !isEditMode\r\n              ? `<button class=\"px-8 py-3 rounded-full text-base cursor-pointer transition-all duration-200 border-none font-cal-sans bg-amber-900 text-white w-4/5 hover:bg-amber-800 profile-sign-out-btn\">Sign Out</button>`\r\n              : \"\"\r\n          }\r\n        </div>\r\n        \r\n        <!-- Right side - Form fields -->\r\n        <div class=\"flex-1 min-w-0\">\r\n          <div class=\"space-y-6\">\r\n            ${generateFormFields(\r\n              userData,\r\n              isEditMode,\r\n              getActivityLevelDisplay,\r\n              \"-desktop\"\r\n            )}\r\n          </div>\r\n          \r\n          <!-- Action button for desktop -->\r\n          <div class=\"mt-8 flex justify-center\">\r\n            ${\r\n              isEditMode\r\n                ? `<button class=\"px-8 py-3 rounded-full text-base cursor-pointer transition-all duration-200 border-none bg-yellow-300 text-amber-900 font-cal-sans hover:bg-yellow-200 profile-save-data-btn\">Save Data</button>`\r\n                : `<button class=\"px-8 py-3 rounded-full text-base cursor-pointer transition-all duration-200 border-none bg-yellow-300 text-amber-900 font-cal-sans hover:bg-yellow-200 profile-update-data-btn\">Update Data</button>`\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Camera Modal (same for both layouts) -->\r\n    <div id=\"camera-modal\" class=\"fixed top-0 left-0 w-full h-full bg-black bg-opacity-80 justify-center items-center z-50 hidden\">\r\n      <div class=\"bg-white rounded-2xl max-w-[90%] max-h-[90%] w-[600px] shadow-2xl overflow-hidden\">\r\n        <div class=\"bg-accent-green text-white px-5 py-5 flex justify-between items-center\">\r\n          <h3 class=\"m-0 text-2xl font-cal-sans\">Take Photo</h3>\r\n          <button class=\"text-white text-3xl cursor-pointer w-10 h-10 flex items-center justify-center rounded-full transition-colors duration-200 hover:bg-white hover:bg-opacity-20 bg-none border-none\" id=\"camera-close-btn\">&times;</button>\r\n        </div>\r\n        <div class=\"p-5 text-center bg-gray-50\">\r\n          <video id=\"camera-video\" autoplay playsinline class=\"w-full max-w-lg h-auto rounded-lg shadow-lg\"></video>\r\n          <canvas id=\"camera-preview-canvas\" style=\"display: none;\" class=\"w-full max-w-lg h-auto rounded-lg shadow-lg\"></canvas>\r\n        </div>\r\n        <div class=\"p-5 bg-white flex gap-4 justify-center border-t border-gray-200 flex-wrap\">\r\n          <button class=\"px-6 py-3 border-none rounded-full text-base font-cal-sans cursor-pointer transition-all duration-300 flex items-center gap-2 bg-yellow-300 text-amber-900 hover:bg-yellow-200 hover:-translate-y-0.5 hover:shadow-lg\" id=\"camera-capture-btn\">\r\n            <i class=\"fas fa-camera\"></i> Capture\r\n          </button>\r\n          <button class=\"px-6 py-3 border-none rounded-full text-base font-cal-sans cursor-pointer transition-all duration-300 items-center gap-2 bg-gray-600 text-white hover:bg-gray-700 hover:-translate-y-0.5 hover:shadow-lg hidden\" id=\"camera-retake-btn\">\r\n            <i class=\"fas fa-redo\"></i> Retake\r\n          </button>\r\n          <button class=\"px-6 py-3 border-none rounded-full text-base font-cal-sans cursor-pointer transition-all duration-300 items-center gap-2 bg-accent-green text-white hover:bg-green-600 hover:-translate-y-0.5 hover:shadow-lg hidden\" id=\"camera-use-btn\">\r\n            <i class=\"fas fa-check\"></i> Use Photo\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `;\r\n};\r\n\r\nexport default {\r\n  render(container, userData, isEditMode = false) {\r\n    const header = new Header();\r\n    const headerContainer =\r\n      document.getElementById(\"header-container\") ||\r\n      document.querySelector(\"header\");\r\n\r\n    if (headerContainer) {\r\n      headerContainer.innerHTML = header.render(\"page\", \"profile\");\r\n    }\r\n\r\n    container.innerHTML = createProfileTemplate(userData, isEditMode);\r\n  },\r\n\r\n  createProfileHeader() {\r\n    return `\r\n      <div class=\"kalkulori-profile-header bg-yellow-200 py-4 shadow-lg sticky top-0 z-30 mb-0\">\r\n        <div class=\"max-w-6xl mx-auto flex justify-between items-center px-5 flex-col md:flex-row gap-4 md:gap-0\">\r\n          <div class=\"text-3xl md:text-4xl font-bold text-amber-900 font-cal-sans\">\r\n            <span class=\"text-lime-600\">kalku</span>lori\r\n          </div>\r\n          <nav>\r\n            <ul class=\"flex gap-6 md:gap-10 list-none m-0 p-0\">\r\n              <li class=\"text-lg font-medium\">\r\n                <a href=\"#/\" class=\"no-underline text-amber-900 transition-all duration-300 px-4 py-2 rounded-2xl font-roboto-slab hover:text-lime-600 hover:bg-lime-600 hover:bg-opacity-10\">Home</a>\r\n              </li>\r\n              <li class=\"text-lg font-medium\">\r\n                <a href=\"#/history\" class=\"no-underline text-amber-900 transition-all duration-300 px-4 py-2 rounded-2xl font-roboto-slab hover:text-lime-600 hover:bg-lime-600 hover:bg-opacity-10\">History</a>\r\n              </li>\r\n              <li class=\"text-lg font-medium\">\r\n                <a href=\"#/profile\" class=\"no-underline text-lime-600 font-semibold bg-lime-600 bg-opacity-20 px-4 py-2 rounded-2xl font-roboto-slab\">Profile</a>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    `;\r\n  },\r\n\r\n  toggleHeaders(showProfileHeader = true) {\r\n    const existingProfileHeaders = document.querySelectorAll(\r\n      \".kalkulori-profile-header\"\r\n    );\r\n    existingProfileHeaders.forEach((header) => header.remove());\r\n\r\n    const homeHeader = document.querySelector(\"header\");\r\n\r\n    if (showProfileHeader) {\r\n      const header = new Header();\r\n      const headerContainer =\r\n        document.getElementById(\"header-container\") || homeHeader;\r\n\r\n      if (headerContainer) {\r\n        headerContainer.innerHTML = header.render(\"page\", \"profile\");\r\n      }\r\n    } else {\r\n      if (homeHeader) {\r\n        homeHeader.style.display = \"block\";\r\n      }\r\n    }\r\n  },\r\n\r\n  showAvatarOptions() {\r\n    const avatarOptions = document.querySelectorAll(\".profile-avatar-options\");\r\n    avatarOptions.forEach((option) => {\r\n      option.classList.remove(\"hidden\");\r\n      option.style.display = \"block\";\r\n    });\r\n  },\r\n\r\n  hideAvatarOptions() {\r\n    const avatarOptions = document.querySelectorAll(\".profile-avatar-options\");\r\n    avatarOptions.forEach((option) => {\r\n      option.classList.add(\"hidden\");\r\n      option.style.display = \"none\";\r\n    });\r\n  },\r\n\r\n  validateImageFile(file) {\r\n    const validTypes = [\r\n      \"image/jpeg\",\r\n      \"image/jpg\",\r\n      \"image/png\",\r\n      \"image/webp\",\r\n      \"image/gif\",\r\n    ];\r\n    const maxSize = 5 * 1024 * 1024;\r\n\r\n    if (!validTypes.includes(file.type)) {\r\n      alert(\"Please select a valid image file (JPEG, PNG, WebP, or GIF)\");\r\n      return false;\r\n    }\r\n\r\n    if (file.size > maxSize) {\r\n      alert(\"Image size should be less than 5MB\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  },\r\n\r\n  resizeImage(file, maxWidth = 300, maxHeight = 300, quality = 0.8) {\r\n    return new Promise((resolve) => {\r\n      const canvas = document.createElement(\"canvas\");\r\n      const ctx = canvas.getContext(\"2d\");\r\n      const img = new Image();\r\n\r\n      img.onload = () => {\r\n        let { width, height } = img;\r\n\r\n        if (width > height) {\r\n          if (width > maxWidth) {\r\n            height = (height * maxWidth) / width;\r\n            width = maxWidth;\r\n          }\r\n        } else {\r\n          if (height > maxHeight) {\r\n            width = (width * maxHeight) / height;\r\n            height = maxHeight;\r\n          }\r\n        }\r\n\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n\r\n        ctx.drawImage(img, 0, 0, width, height);\r\n\r\n        canvas.toBlob(resolve, \"image/jpeg\", quality);\r\n      };\r\n\r\n      img.src = URL.createObjectURL(file);\r\n    });\r\n  },\r\n\r\n  blobToBase64(blob) {\r\n    return new Promise((resolve) => {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => resolve(reader.result);\r\n      reader.readAsDataURL(blob);\r\n    });\r\n  },\r\n\r\n  showCameraModal() {\r\n    const modal = document.getElementById(\"camera-modal\");\r\n    if (modal) {\r\n      modal.classList.remove(\"hidden\");\r\n      modal.classList.add(\"flex\");\r\n      document.body.style.overflow = \"hidden\";\r\n    }\r\n  },\r\n\r\n  hideCameraModal() {\r\n    const modal = document.getElementById(\"camera-modal\");\r\n    const video = document.getElementById(\"camera-video\");\r\n\r\n    if (modal) {\r\n      modal.classList.add(\"hidden\");\r\n      modal.classList.remove(\"flex\");\r\n      document.body.style.overflow = \"auto\";\r\n    }\r\n\r\n    if (video && video.srcObject) {\r\n      const tracks = video.srcObject.getTracks();\r\n      tracks.forEach((track) => track.stop());\r\n      video.srcObject = null;\r\n    }\r\n  },\r\n\r\n  toggleGenderOption(gender) {\r\n    const maleOptions = document.querySelectorAll(\".profile-male-option\");\r\n    const femaleOptions = document.querySelectorAll(\".profile-female-option\");\r\n\r\n    if (gender === \"male\") {\r\n      maleOptions.forEach((option) => {\r\n        option.className =\r\n          \"flex-1 bg-accent-green text-white border-none rounded-full px-3 sm:px-5 py-3 font-cal-sans text-sm sm:text-base cursor-pointer transition-all duration-200 shadow-sm profile-male-option\";\r\n      });\r\n      femaleOptions.forEach((option) => {\r\n        option.className =\r\n          \"flex-1 bg-white text-gray-800 border-none rounded-full px-3 sm:px-5 py-3 font-cal-sans text-sm sm:text-base cursor-pointer transition-all duration-200 shadow-sm hover:bg-gray-50 profile-female-option\";\r\n      });\r\n    } else if (gender === \"female\") {\r\n      femaleOptions.forEach((option) => {\r\n        option.className =\r\n          \"flex-1 bg-accent-green text-white border-none rounded-full px-3 sm:px-5 py-3 font-cal-sans text-sm sm:text-base cursor-pointer transition-all duration-200 shadow-sm profile-female-option\";\r\n      });\r\n      maleOptions.forEach((option) => {\r\n        option.className =\r\n          \"flex-1 bg-white text-gray-800 border-none rounded-full px-3 sm:px-5 py-3 font-cal-sans text-sm sm:text-base cursor-pointer transition-all duration-200 shadow-sm hover:bg-gray-50 profile-male-option\";\r\n      });\r\n    }\r\n  },\r\n\r\n  getUserData() {\r\n    // Try to get from visible inputs (mobile or desktop)\r\n    const nameInput =\r\n      document.querySelector(\r\n        \".profile-name-input:not([style*='display: none'])\"\r\n      ) || document.querySelector(\".profile-name-input\");\r\n    const ageInput =\r\n      document.querySelector(\r\n        \".profile-age-input:not([style*='display: none'])\"\r\n      ) || document.querySelector(\".profile-age-input\");\r\n    const weightInput =\r\n      document.querySelector(\r\n        \".profile-weight-input:not([style*='display: none'])\"\r\n      ) || document.querySelector(\".profile-weight-input\");\r\n    const heightInput =\r\n      document.querySelector(\r\n        \".profile-height-input:not([style*='display: none'])\"\r\n      ) || document.querySelector(\".profile-height-input\");\r\n    const targetWeightInput =\r\n      document.querySelector(\r\n        \".profile-target-weight-input:not([style*='display: none'])\"\r\n      ) || document.querySelector(\".profile-target-weight-input\");\r\n    const activityLevelInput =\r\n      document.querySelector(\r\n        \".profile-activity-level-input:not([style*='display: none'])\"\r\n      ) || document.querySelector(\".profile-activity-level-input\");\r\n\r\n    if (!nameInput) return null;\r\n\r\n    // Get gender from active option\r\n    let gender = \"male\";\r\n    const femaleOption = document.querySelector(\r\n      \".profile-female-option.bg-accent-green\"\r\n    );\r\n    if (femaleOption) {\r\n      gender = \"female\";\r\n    }\r\n\r\n    return {\r\n      name: nameInput.value,\r\n      gender,\r\n      age: ageInput.value,\r\n      weight: weightInput.value,\r\n      height: heightInput.value,\r\n      targetWeight: targetWeightInput.value,\r\n      activityLevel: activityLevelInput.value,\r\n    };\r\n  },\r\n\r\n  attachEventHandlers(handlers) {\r\n    // Use class selectors for elements that appear in both layouts\r\n    const editAvatarBtns = document.querySelectorAll(\r\n      \".profile-edit-avatar-btn\"\r\n    );\r\n    const cameraOptions = document.querySelectorAll(\".profile-camera-option\");\r\n    const galleryOptions = document.querySelectorAll(\".profile-gallery-option\");\r\n    const fileInputs = document.querySelectorAll(\".profile-file-input\");\r\n    const maleOptions = document.querySelectorAll(\".profile-male-option\");\r\n    const femaleOptions = document.querySelectorAll(\".profile-female-option\");\r\n    const updateDataBtns = document.querySelectorAll(\r\n      \".profile-update-data-btn\"\r\n    );\r\n    const saveDataBtns = document.querySelectorAll(\".profile-save-data-btn\");\r\n    const signOutBtns = document.querySelectorAll(\".profile-sign-out-btn\");\r\n\r\n    // Single elements (camera modal)\r\n    const cameraCloseBtn = document.getElementById(\"camera-close-btn\");\r\n    const cameraCaptureBtn = document.getElementById(\"camera-capture-btn\");\r\n    const cameraRetakeBtn = document.getElementById(\"camera-retake-btn\");\r\n    const cameraUseBtn = document.getElementById(\"camera-use-btn\");\r\n\r\n    editAvatarBtns.forEach((btn) => {\r\n      if (handlers.onEditAvatarClicked) {\r\n        btn.addEventListener(\"click\", handlers.onEditAvatarClicked);\r\n      }\r\n    });\r\n\r\n    cameraOptions.forEach((option) => {\r\n      if (handlers.onCameraOptionClicked) {\r\n        option.addEventListener(\"click\", handlers.onCameraOptionClicked);\r\n      }\r\n    });\r\n\r\n    galleryOptions.forEach((option) => {\r\n      if (handlers.onGalleryOptionClicked) {\r\n        option.addEventListener(\"click\", handlers.onGalleryOptionClicked);\r\n      }\r\n    });\r\n\r\n    fileInputs.forEach((input) => {\r\n      if (handlers.onFileSelected) {\r\n        input.addEventListener(\"change\", handlers.onFileSelected);\r\n      }\r\n    });\r\n\r\n    if (cameraCloseBtn && handlers.onCameraModalClose) {\r\n      cameraCloseBtn.addEventListener(\"click\", handlers.onCameraModalClose);\r\n    }\r\n\r\n    if (cameraCaptureBtn && handlers.onCameraCapture) {\r\n      cameraCaptureBtn.addEventListener(\"click\", handlers.onCameraCapture);\r\n    }\r\n\r\n    if (cameraRetakeBtn && handlers.onCameraRetake) {\r\n      cameraRetakeBtn.addEventListener(\"click\", handlers.onCameraRetake);\r\n    }\r\n\r\n    if (cameraUseBtn && handlers.onCameraUse) {\r\n      cameraUseBtn.addEventListener(\"click\", handlers.onCameraUse);\r\n    }\r\n\r\n    maleOptions.forEach((option) => {\r\n      if (handlers.onGenderOptionClicked) {\r\n        option.addEventListener(\"click\", () =>\r\n          handlers.onGenderOptionClicked(\"male\")\r\n        );\r\n      }\r\n    });\r\n\r\n    femaleOptions.forEach((option) => {\r\n      if (handlers.onGenderOptionClicked) {\r\n        option.addEventListener(\"click\", () =>\r\n          handlers.onGenderOptionClicked(\"female\")\r\n        );\r\n      }\r\n    });\r\n\r\n    updateDataBtns.forEach((btn) => {\r\n      if (handlers.onUpdateDataClicked) {\r\n        btn.addEventListener(\"click\", handlers.onUpdateDataClicked);\r\n      }\r\n    });\r\n\r\n    saveDataBtns.forEach((btn) => {\r\n      if (handlers.onSaveDataClicked) {\r\n        btn.addEventListener(\"click\", handlers.onSaveDataClicked);\r\n      }\r\n    });\r\n\r\n    signOutBtns.forEach((btn) => {\r\n      if (handlers.onSignOutClicked) {\r\n        btn.addEventListener(\"click\", handlers.onSignOutClicked);\r\n      }\r\n    });\r\n\r\n    // Number controls\r\n    const numberControls = document.querySelectorAll(\".profile-number-control\");\r\n    numberControls.forEach((button) => {\r\n      button.addEventListener(\"click\", () => {\r\n        const inputId = button.getAttribute(\"data-input\");\r\n        const action = button.getAttribute(\"data-action\");\r\n\r\n        // Find the correct input in the current layout\r\n        const input =\r\n          button\r\n            .closest(\".space-y-6\")\r\n            .querySelector(`[data-input=\"${inputId}\"]`) ||\r\n          document.querySelector(`.profile-${inputId}-input`);\r\n\r\n        if (action === \"increment\" && handlers.onNumberIncrease) {\r\n          handlers.onNumberIncrease(inputId);\r\n        } else if (action === \"decrement\" && handlers.onNumberDecrease) {\r\n          handlers.onNumberDecrease(inputId);\r\n        }\r\n      });\r\n    });\r\n\r\n    // Click outside to close avatar options\r\n    document.addEventListener(\"click\", (event) => {\r\n      const avatarOptions = document.querySelectorAll(\r\n        \".profile-avatar-options\"\r\n      );\r\n      const editAvatarBtns = document.querySelectorAll(\r\n        \".profile-edit-avatar-btn\"\r\n      );\r\n\r\n      let clickedInsideAny = false;\r\n      avatarOptions.forEach((option) => {\r\n        if (option.contains(event.target)) clickedInsideAny = true;\r\n      });\r\n      editAvatarBtns.forEach((btn) => {\r\n        if (btn.contains(event.target)) clickedInsideAny = true;\r\n      });\r\n\r\n      if (!clickedInsideAny) {\r\n        this.hideAvatarOptions();\r\n      }\r\n    });\r\n\r\n    // Camera modal click outside to close\r\n    const cameraModal = document.getElementById(\"camera-modal\");\r\n    if (cameraModal && handlers.onCameraModalClose) {\r\n      cameraModal.addEventListener(\"click\", (event) => {\r\n        if (event.target === cameraModal) {\r\n          handlers.onCameraModalClose();\r\n        }\r\n      });\r\n    }\r\n  },\r\n};\r\n"],"names":["render","container","userData","isEditMode","arguments","length","undefined","header","Header","headerContainer","document","getElementById","querySelector","innerHTML","getActivityLevelDisplay","level","daily","regularly","occasionally","rarely","never","generateFormFields","layoutPrefix","concat","name","gender","age","weight","height","targetWeight","activityLevel","avatar","createProfileTemplate","createProfileHeader","toggleHeaders","showProfileHeader","querySelectorAll","forEach","remove","homeHeader","style","display","showAvatarOptions","option","classList","hideAvatarOptions","add","validateImageFile","file","includes","type","size","alert","resizeImage","maxWidth","maxHeight","quality","Promise","resolve","canvas","createElement","ctx","getContext","img","Image","onload","width","drawImage","toBlob","src","URL","createObjectURL","blobToBase64","blob","reader","FileReader","onloadend","result","readAsDataURL","showCameraModal","modal","body","overflow","hideCameraModal","video","srcObject","getTracks","track","stop","toggleGenderOption","maleOptions","femaleOptions","className","getUserData","nameInput","ageInput","weightInput","heightInput","targetWeightInput","activityLevelInput","value","attachEventHandlers","handlers","_this","editAvatarBtns","cameraOptions","galleryOptions","fileInputs","updateDataBtns","saveDataBtns","signOutBtns","cameraCloseBtn","cameraCaptureBtn","cameraRetakeBtn","cameraUseBtn","btn","onEditAvatarClicked","addEventListener","onCameraOptionClicked","onGalleryOptionClicked","input","onFileSelected","onCameraModalClose","onCameraCapture","onCameraRetake","onCameraUse","onGenderOptionClicked","onUpdateDataClicked","onSaveDataClicked","onSignOutClicked","button","inputId","getAttribute","action","closest","onNumberIncrease","onNumberDecrease","event","avatarOptions","clickedInsideAny","contains","target","cameraModal"],"sourceRoot":""}