/*! For license information please see app~c3e02e18.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkkalkulori=self.webpackChunkkalkulori||[]).push([[927],{689:(e,n,t)=>{t.d(n,{A:()=>c});var o=t(991);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(){a=function(){return n};var e,n={},t=Object.prototype,o=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function d(e,n,t,o){return Object.defineProperty(e,n,{value:t,enumerable:!o,configurable:!o,writable:!o})}try{d({},"")}catch(e){d=function(e,n,t){return e[n]=t}}function u(n,t,o,r){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype);return d(i,"_invoke",function(n,t,o){var r=1;return function(a,i){if(3===r)throw Error("Generator is already running");if(4===r){if("throw"===a)throw i;return{value:e,done:!0}}for(o.method=a,o.arg=i;;){var s=o.delegate;if(s){var c=E(s,o);if(c){if(c===v)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(1===r)throw r=4,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=3;var l=p(n,t,o);if("normal"===l.type){if(r=o.done?4:2,l.arg===v)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(r=4,o.method="throw",o.arg=l.arg)}}}(n,o,new S(r||[])),!0),i}function p(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=u;var v={};function f(){}function g(){}function m(){}var h={};d(h,s,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(M([])));w&&w!==t&&o.call(w,s)&&(h=w);var b=m.prototype=f.prototype=Object.create(h);function k(e){["next","throw","return"].forEach((function(n){d(e,n,(function(e){return this._invoke(n,e)}))}))}function _(e,n){function t(a,i,s,c){var l=p(e[a],e,i);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==r(u)&&o.call(u,"__await")?n.resolve(u.__await).then((function(e){t("next",e,s,c)}),(function(e){t("throw",e,s,c)})):n.resolve(u).then((function(e){d.value=e,s(d)}),(function(e){return t("throw",e,s,c)}))}c(l.arg)}var a;d(this,"_invoke",(function(e,o){function r(){return new n((function(n,r){t(e,o,n,r)}))}return a=a?a.then(r,r):r()}),!0)}function E(n,t){var o=t.method,r=n.i[o];if(r===e)return t.delegate=null,"throw"===o&&n.i.return&&(t.method="return",t.arg=e,E(n,t),"throw"===t.method)||"return"!==o&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var a=p(r,n.i,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,v;var i=a.arg;return i?i.done?(t[n.r]=i.value,t.next=n.n,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function x(e){this.tryEntries.push(e)}function C(n){var t=n[4]||{};t.type="normal",t.arg=e,n[4]=t}function S(e){this.tryEntries=[[-1]],e.forEach(x,this),this.reset(!0)}function M(n){if(null!=n){var t=n[s];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,i=function t(){for(;++a<n.length;)if(o.call(n,a))return t.value=n[a],t.done=!1,t;return t.value=e,t.done=!0,t};return i.next=i}}throw new TypeError(r(n)+" is not iterable")}return g.prototype=m,d(b,"constructor",m),d(m,"constructor",g),g.displayName=d(m,l,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===g||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,d(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},n.awrap=function(e){return{__await:e}},k(_.prototype),d(_.prototype,c,(function(){return this})),n.AsyncIterator=_,n.async=function(e,t,o,r,a){void 0===a&&(a=Promise);var i=new _(u(e,t,o,r),a);return n.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(b),d(b,l,"Generator"),d(b,s,(function(){return this})),d(b,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var o in n)t.unshift(o);return function e(){for(;t.length;)if((o=t.pop())in n)return e.value=o,e.done=!1,e;return e.done=!0,e}},n.values=M,S.prototype={constructor:S,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!n)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function o(e){i.type="throw",i.arg=n,t.next=e}for(var r=t.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],i=a[4],s=this.prev,c=a[1],l=a[2];if(-1===a[0])return o("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=e,o(c),!0;if(s<l)return o(l),!1}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o[0]>-1&&o[0]<=this.prev&&this.prev<o[2]){var r=o;break}}r&&("break"===e||"continue"===e)&&r[0]<=n&&n<=r[2]&&(r=null);var a=r?r[4]:{};return a.type=e,a.arg=n,r?(this.method="next",this.next=r[2],v):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t[2]===e)return this.complete(t[4],t[3]),C(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t[0]===e){var o=t[4];if("throw"===o.type){var r=o.arg;C(t)}return r}}throw Error("illegal catch attempt")},delegateYield:function(n,t,o){return this.delegate={i:M(n),r:t,n:o},"next"===this.method&&(this.arg=e),v}},n}function i(e,n,t,o,r,a,i){try{var s=e[a](i),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(o,r)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var a=e.apply(n,t);function s(e){i(a,o,r,s,c,"next",e)}function c(e){i(a,o,r,s,c,"throw",e)}s(void 0)}))}}const c={render:function(){return s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'\n      <div class="main-content" id="home-container">\n        <h1>Selamat Datang di kalkulori</h1>\n        <p>Loading content...</p>\n      </div>\n    ');case 1:case"end":return e.stop()}}),e)})))()},afterRender:function(){return s(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("home-container"),t=new o.A({container:n}),e.next=4,t.init();case 4:case"end":return e.stop()}}),e)})))()}}},938:(e,n,t)=>{t.d(n,{A:()=>k});var o=t(275),r=t(176),a=t(74),i=t.n(a);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,i,s=[],c=!0,l=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=a.call(t)).done)&&(s.push(o.value),s.length!==n);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw r}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return l(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}var d=function(e){var n;return'\n    <div class="categories-container">\n      <p class="categories-description">Choose your meal preferences (max 6):</p>\n      <div class="categories-grid">\n        '.concat(Object.entries(o.zq).map((function(n){var t=c(n,2),o=t[0],r=t[1];return'\n          <div class="category-card" data-category="'.concat(o,'">\n            <div class="category-icon">').concat(r.icon,'</div>\n            <div class="category-title">').concat(r.title,'</div>\n            <div class="category-count">').concat(e.selectedKeywords?e.selectedKeywords.filter((function(e){return r.keywords.includes(e)})).length:0," selected</div>\n          </div>\n        ")})).join(""),"\n      </div>\n      ").concat(e.selectedKeywords&&e.selectedKeywords.length>0?'\n        <div class="action-buttons">\n          <button class="find-meals-btn" id="find-meals-button" '.concat(e.selectedKeywords.length>6?"disabled":"",">\n            ").concat(null!==(n=e.mealSuggestions)&&void 0!==n&&n.loading?"Finding Meals...":"Find Meals",'\n          </button>\n          <button class="clear-all-btn" id="clear-all-button">Clear All</button>\n        </div>\n        ').concat(e.selectedKeywords.length>6?'\n          <p class="keyword-limit-warning">⚠️ Maximum 6 keywords allowed. Please remove some keywords.</p>\n        ':"","\n      "):"","\n    </div>\n  ")},u=function(e){return e.selectedKeywords&&0!==e.selectedKeywords.length?'\n    <div class="selected-keywords-container">\n      <h4>Selected Preferences ('.concat(e.selectedKeywords.length,'/6):</h4>\n      <div class="selected-keywords">\n        ').concat(e.selectedKeywords.map((function(n){return'\n          <span class="keyword-tag '.concat(e.selectedKeywords.length>6?"over-limit":"",'">\n            ').concat(n,'\n            <button class="remove-keyword" data-keyword="').concat(n,'">&times;</button>\n          </span>\n        ')})).join(""),"\n      </div>\n    </div>\n  "):""},p=function(e){var n,t,o,r;if(null!==(n=e.mealSuggestions)&&void 0!==n&&n.loading)return'\n      <div class="meal-suggestions-loading">\n        <div class="loading-spinner"></div>\n        <p>Finding personalized meal suggestions...</p>\n      </div>\n    ';if(null!==(t=e.mealSuggestions)&&void 0!==t&&t.error)return'\n      <div class="meal-suggestions-error">\n        <p class="error-message">'.concat(e.mealSuggestions.error,'</p>\n        <div class="suggestions-grid">\n          ').concat(v(e.suggestedMeals||[]),"\n        </div>\n      </div>\n    ");var a=(null===(o=e.mealSuggestions)||void 0===o?void 0:o.data)||e.suggestedMeals||[],i=e.selectedKeywords&&e.selectedKeywords.length>0,s=null===(r=e.mealSuggestions)||void 0===r?void 0:r.isFromAPI;return'\n    <div class="meal-suggestions-content">\n      '.concat(i&&s?'\n        <p class="suggestions-info">✨ Personalized suggestions based on your preferences</p>\n      ':i?'\n        <p class="suggestions-info">💡 Click "Find Meals" to get personalized suggestions</p>\n      ':'\n        <p class="suggestions-info">🍽️ Popular meal recommendations</p>\n      ','\n      \n      <div class="suggestions-grid" id="suggestions-food-container">\n        ').concat(v(a),"\n      </div>\n      \n      ").concat(0===a.length?'\n        <div class="no-suggestions">\n          <p>No meal suggestions available. Try selecting some preferences and click "Find Meals"!</p>\n        </div>\n      ':"","\n    </div>\n  ")},v=function(e){return e&&0!==e.length?e.map((function(e){return'\n    <div class="suggestion-food-card" data-meal-id="'.concat(e.id||"",'" data-serving-size="').concat(e.serving_size||1,'" data-serving-unit="').concat(e.serving_unit||"serving",'">\n      <div class="suggestion-food-image" data-meal-details-trigger>\n        <img src="').concat(e.image||"https://images.unsplash.com/photo-1546554137-f86b9593a222?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",'" alt="').concat(e.name,'">\n        <div class="image-overlay">\n          <span class="view-details-text"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"/></svg> View Details</span>\n        </div>\n      </div>\n      <div class="suggestion-food-info">\n        <h3 class="suggestion-food-name">').concat(e.name,'</h3>\n        <p class="suggestion-food-calories">').concat(e.calories,' kcal</p>\n      </div>\n      <button class="suggestion-add-button" data-add-meal-trigger>\n        <span class="plus-icon">+</span>\n      </button>\n    </div>\n  ')})).join(""):'<p class="no-suggestions-text">No suggestions available</p>'},f=function(e){return'\n    <div class="category-popup-overlay" id="category-popup-overlay">\n      <div class="category-popup">\n        <div class="popup-header">\n          <h3 id="popup-title">Category</h3>\n          <button class="popup-close" id="popup-close">&times;</button>\n        </div>\n        <div class="popup-content">\n          <div class="keywords-grid" id="keywords-grid">\n          </div>\n        </div>\n        <div class="popup-footer">\n          <button class="popup-done-btn" id="popup-done">Done</button>\n        </div>\n      </div>\n    </div>\n  '},g=function(e){if(e.loading)return'\n      <div class="loading-container">\n        <div class="loading-spinner"></div>\n        <p>Loading calorie data...</p>\n      </div>\n    ';var n=Math.min(e.currentCalories/e.calorieLimit*100,100),t=Math.max(e.calorieLimit-e.currentCalories,0);return'\n    <div class="calorie-counter">\n      <div class="calorie-display">\n        <div class="calorie-number">'.concat(e.currentCalories,'</div>\n        <div class="calorie-progress">\n          <div class="progress-bar">\n            <div class="progress-fill" style="width: ').concat(n,'%"></div>\n          </div>\n        </div>\n        <div class="calorie-remaining">').concat(t,' kcal left!</div>\n      </div>\n      <button class="add-meal-btn" id="add-meal-button">Add Meal</button>\n    </div>\n  ')},m=function(e){if(e.loading)return'\n      <div class="loading-container">\n        <p>Loading today\'s meals...</p>\n      </div>\n    ';if(0===e.mealEntries.length)return'\n      <div class="todays-meals-section">\n        <h3 class="todays-meals-title">Today\'s Meals</h3>\n        <div class="no-meals-container">\n          <p class="no-meals-message">No meals added today</p>\n        </div>\n      </div>\n    ';var n=y(e.mealEntries);return'\n    <div class="todays-meals-section">\n      <h3 class="todays-meals-title">Today\'s Meals</h3>\n      <div class="todays-meals">\n        '.concat(Object.entries(n).map((function(e){var n=c(e,2),t=n[0],o=n[1];return'\n          <div class="meal-type-section">\n            <h4 class="meal-type-title">'.concat(w(t),'</h4>\n            <div class="meal-entries-compact">\n              ').concat(o.map((function(e){return h(e)})).join(""),"\n            </div>\n          </div>\n        ")})).join(""),"\n      </div>\n    </div>\n  ")},h=function(e){var n=e.food_details;console.log("🔍 Creating compact meal card for meal:",{id:e.id,food_name:e.food_name,is_from_search:e.is_from_search,is_from_recipe:e.is_from_recipe,recipe_id:e.recipe_id,food_item_id:e.food_item_id,raw_meal:e});var t=0;if(e.calories)t=Math.round(e.calories);else if(e.calories_consumed)t=Math.round(e.calories_consumed);else if(n&&n.calories_per_serving&&e.servings)t=Math.round(n.calories_per_serving*e.servings);else if(e.servings&&n){var o=n.calories_per_serving||0;t=Math.round(o*e.servings)}if(0===t&&e.servings>0){var r=e.calories||e.calories_consumed||n&&n.calories_per_serving||0;t=Math.round(r)}var a="Unknown Food";n&&n.food_name?a=n.food_name:e.food_name?a=e.food_name:e.is_from_search?a="Search Result":e.is_from_recipe&&(a="Recipe Meal");var i="https://images.unsplash.com/photo-1546554137-f86b9593a222?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80";n&&n.image_url&&(i=n.image_url);var s=e.id;return console.log("🎯 Using meal ID for delete button: ".concat(s," for food: ").concat(a)),'\n    <div class="compact-meal-card" data-meal-id="'.concat(s,'">\n      <div class="compact-meal-image">\n        <img src="').concat(i,'" alt="').concat(a,'" onerror="this.src=\'https://images.unsplash.com/photo-1546554137-f86b9593a222?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80\'">\n      </div>\n      <div class="compact-meal-info">\n        <span class="compact-meal-name">').concat(a,'</span>\n        <span class="compact-meal-details">').concat(e.servings||1,"x • ").concat(t,' kcal</span>\n      </div>\n      <button class="delete-meal-btn" data-meal-id="').concat(s,'" title="Remove meal">\n        <span>&times;</span>\n      </button>\n    </div>\n  ')},y=function(e){return e.reduce((function(e,n){var t=n.meal_type;return e[t]||(e[t]=[]),e[t].push(n),e}),{})},w=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};function b(e){var n,t,o,r,a=e.querySelector(".suggestion-food-name"),i=e.querySelector(".suggestion-food-calories"),s=e.querySelector(".suggestion-food-image img"),c=e.querySelectorAll(".suggestion-food-nutrition span"),l={id:e.dataset.mealId||null,name:(null==a?void 0:a.textContent)||"Unknown Meal",calories:parseInt(null==i||null===(n=i.textContent)||void 0===n?void 0:n.replace(" kcal",""))||0,image:(null==s?void 0:s.src)||"",serving_size:parseFloat(e.dataset.servingSize)||1,serving_unit:e.dataset.servingUnit||"serving"};c.length>=3&&(l.protein=parseFloat(null===(t=c[0])||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.replace("P: ","").replace("g",""))||0,l.carbohydrate=parseFloat(null===(o=c[1])||void 0===o||null===(o=o.textContent)||void 0===o?void 0:o.replace("C: ","").replace("g",""))||0,l.fat=parseFloat(null===(r=c[2])||void 0===r||null===(r=r.textContent)||void 0===r?void 0:r.replace("F: ","").replace("g",""))||0);return l}const k={render:function(e,n){var t=new(i()),o=document.getElementById("header-container")||document.querySelector("header");o&&(o.innerHTML=t.render("home"),t.addSliderStyles(),t.initSlider()),e.innerHTML=function(e){return'\n    <div class="page-outer-wrapper">\n      <div class="page-inner-wrapper">\n        <div class="content-layout">\n          <div class="left-column">\n            <div class="content-box daily-calories-box">\n              <h2>Daily Calories</h2>\n              '.concat(g(e),"\n              ").concat(m(e),'\n            </div>\n            \n            <div class="content-box meal-plan-box">\n              <h2>Meal Plan</h2>\n              ').concat((0,r.g7)(e.mealPlan),'\n            </div>\n          </div>\n\n          <div class="right-column">\n            <div class="content-box suggestion-box">\n              <h2>Meal Preferences</h2>\n              ').concat(d(e),"\n              ").concat(u(e),'\n            </div>\n\n            <div class="content-box meal-suggestions-box">\n              <h2>Meal Suggestions</h2>\n              ').concat(p(e),"\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    ").concat(f(e),"\n  ")}(n)},afterRender:function(e){var n=document.getElementById("add-meal-button"),t=document.querySelectorAll(".delete-meal-btn"),o=document.querySelectorAll(".category-card"),a=document.getElementById("category-popup-overlay"),i=document.getElementById("popup-close"),c=document.getElementById("popup-done"),l=document.getElementById("find-meals-button"),d=document.getElementById("clear-all-button"),u=document.querySelectorAll(".remove-keyword"),p=document.querySelectorAll("[data-add-meal-trigger]"),v=document.querySelectorAll("[data-meal-details-trigger]");n&&e.onAddMealClicked&&n.addEventListener("click",e.onAddMealClicked),t&&e.onDeleteMealClicked&&(console.log("🔍 Found ".concat(t.length," delete buttons to bind")),t.forEach((function(n,t){var o=n.dataset.mealId;console.log("🔍 Binding delete event ".concat(t+1,': meal ID = "').concat(o,'" (type: ').concat(s(o),")")),o&&"undefined"!==o&&"null"!==o?n.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation(),console.log('🗑️ Delete clicked for meal ID: "'.concat(o,'"')),confirm("Are you sure you want to remove this meal from your log?")?(console.log('✅ Confirmed delete for meal ID: "'.concat(o,'"')),e.onDeleteMealClicked(o)):console.log('❌ Delete cancelled for meal ID: "'.concat(o,'"'))})):console.error("❌ Invalid meal ID for delete button ".concat(t+1,":"),o)}))),o&&e.onCategoryClicked&&o.forEach((function(n){n.addEventListener("click",(function(){var t=n.dataset.category;e.onCategoryClicked(t)}))})),a&&e.onPopupClosed&&a.addEventListener("click",(function(n){n.target===a&&e.onPopupClosed()})),i&&e.onPopupClosed&&i.addEventListener("click",e.onPopupClosed),c&&e.onPopupClosed&&c.addEventListener("click",e.onPopupClosed),l&&e.onFindMealsClicked&&l.addEventListener("click",e.onFindMealsClicked),d&&e.onClearAllClicked&&d.addEventListener("click",e.onClearAllClicked),u&&e.onKeywordRemoved&&u.forEach((function(n){n.addEventListener("click",(function(){var t=n.dataset.keyword;e.onKeywordRemoved(t)}))})),p&&e.onSuggestedMealClicked&&p.forEach((function(n){n.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var o=n.closest(".suggestion-food-card");if(o){var r=b(o);e.onSuggestedMealClicked(r)}}))})),v&&e.onSuggestedMealDetailsClicked&&v.forEach((function(n){n.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var o=n.closest(".suggestion-food-card");if(o){var r=b(o);e.onSuggestedMealDetailsClicked(r)}}))})),(0,r.dk)(e.onGenerateMealPlan,e.onMealPlanItemClicked,e.onCompleteProfileClicked)},showCategoryPopup:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=document.getElementById("category-popup-overlay"),r=document.getElementById("popup-title"),a=document.getElementById("keywords-grid");if(t&&r&&a){var i=o.zq[e];if(i)r.textContent=i.title,a.innerHTML=i.keywords.map((function(e){return'\n      <div class="keyword-item '.concat(n.includes(e)?"selected":"",'" data-keyword="').concat(e,'">\n        <span class="keyword-text">').concat(e,'</span>\n        <span class="keyword-check">✓</span>\n      </div>\n    ')})).join(""),a.querySelectorAll(".keyword-item").forEach((function(e){e.addEventListener("click",(function(){var n=document.querySelectorAll(".keyword-item.selected").length;if(!e.classList.contains("selected")&&n>=6)alert("Maximum 6 keywords allowed! Please unselect some keywords first.");else{e.classList.toggle("selected");var t=e.dataset.keyword,o=new CustomEvent("keywordToggled",{detail:{keyword:t,selected:e.classList.contains("selected")}});document.dispatchEvent(o)}}))})),t.style.display="flex"}},hideCategoryPopup:function(){var e=document.getElementById("category-popup-overlay");e&&(e.style.display="none")}}}}]);
//# sourceMappingURL=app~c3e02e18.bundle.js.map