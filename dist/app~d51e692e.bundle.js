/*! For license information please see app~d51e692e.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkkalkulori=self.webpackChunkkalkulori||[]).push([[441],{557:(e,t,r)=>{r.d(t,{A:()=>w});var n=r(910),a=r(322);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(){c=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function h(t,r,n,a){var o=r&&r.prototype instanceof v?r:v,i=Object.create(o.prototype);return u(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=E(s,n);if(l){if(l===f)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var c=d(t,r,n);if("normal"===c.type){if(a=n.done?4:2,c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a=4,n.method="throw",n.arg=c.arg)}}}(t,n,new I(a||[])),!0),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var f={};function v(){}function g(){}function p(){}var m={};u(m,i,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(O([])));w&&w!==r&&n.call(w,i)&&(m=w);var b=p.prototype=v.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(a,i,s,l){var c=d(e[a],e,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==o(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,l)}))}l(c.arg)}var a;u(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function E(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=d(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,f;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function S(e){this.tryEntries.push(e)}function x(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function I(e){this.tryEntries=[[-1]],e.forEach(S,this),this.reset(!0)}function O(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,s=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}throw new TypeError(o(t)+" is not iterable")}return g.prototype=p,u(b,"constructor",p),u(p,"constructor",g),g.displayName=u(p,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},k(_.prototype),u(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new _(h(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(b),u(b,l,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=O,I.prototype={constructor:I,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,l=o[1],c=o[2];if(-1===o[0])return n("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<l)return this.method="next",this.arg=e,n(l),!0;if(s<c)return n(c),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;x(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:O(t),r,n},"next"===this.method&&(this.arg=e),f}},t}function u(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){u(o,n,a,i,s,"next",e)}function s(e){u(o,n,a,i,s,"throw",e)}i(void 0)}))}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}const v=function(){return e=function e(t){var r=t.container;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=r,this.view=n.A,this.apiService=new a.A,this.isEditMode=!1,this.cameraStream=null,this.capturedImageData=null,this.userData={name:"",gender:"male",age:"",weight:"",height:"",targetWeight:"",activityLevel:"never",avatar:null},this.handlers={onEditAvatarClicked:this._handleEditAvatarClicked.bind(this),onCameraOptionClicked:this._handleCameraOptionClicked.bind(this),onGalleryOptionClicked:this._handleGalleryOptionClicked.bind(this),onFileSelected:this._handleFileSelected.bind(this),onCameraModalClose:this._handleCameraModalClose.bind(this),onCameraCapture:this._handleCameraCapture.bind(this),onCameraRetake:this._handleCameraRetake.bind(this),onCameraUse:this._handleCameraUse.bind(this),onGenderOptionClicked:this._handleGenderOptionClicked.bind(this),onUpdateDataClicked:this._handleUpdateDataClicked.bind(this),onSaveDataClicked:this._handleSaveDataClicked.bind(this),onSignOutClicked:this._handleSignOutClicked.bind(this),onNumberIncrease:this._handleNumberIncrease.bind(this),onNumberDecrease:this._handleNumberDecrease.bind(this)}},t=[{key:"init",value:(v=h(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.view.toggleHeaders(!0),e.next=3,this._loadUserProfile();case 3:this._renderView();case 4:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"onLeave",value:function(){this._stopCameraStream(),this.view.toggleHeaders(!1)}},{key:"_renderView",value:function(){this.view.render(this.container,this.userData,this.isEditMode),this.view.attachEventHandlers(this.handlers)}},{key:"_getAvatarKey",value:function(){var e=localStorage.getItem("userEmail"),t=localStorage.getItem("userId");return"userAvatar_".concat(e||t||"default")}},{key:"_storeAvatar",value:function(e){try{var t=this._getAvatarKey();e?(localStorage.setItem(t,e),console.log("üñºÔ∏è Avatar stored with key: ".concat(t))):(localStorage.removeItem(t),console.log("üñºÔ∏è Avatar removed for key: ".concat(t)))}catch(e){console.error("Error storing avatar:",e)}}},{key:"_getStoredAvatar",value:function(){try{var e=this._getAvatarKey(),t=localStorage.getItem(e);return console.log("üñºÔ∏è Loading avatar with key: ".concat(e,", exists: ").concat(!!t)),t}catch(e){return console.error("Error getting stored avatar:",e),null}}},{key:"_loadUserProfile",value:(f=h(c().mark((function e(){var t,r,n,a,o,i,s,l,u,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this._showLoading("Loading profile..."),t=this.apiService.getAuthToken(),console.log("üé´ Token check - exists:",!!t),console.log("üé´ Token value:",t?t.substring(0,20)+"...":"null"),t){e.next=10;break}return console.log("‚ùå No token found, redirecting to signin"),alert("Session expired. Please login again."),window.location.hash="#/signin",e.abrupt("return");case 10:return console.log("üîó Testing backend connection..."),e.next=13,this.apiService.testConnection();case 13:if(r=e.sent,console.log("üîó Backend connection:",r),r){e.next=22;break}return console.log("‚ùå Backend not reachable, using local data fallback"),(n=this._getStoredUserData())?(this.userData=n,console.log("‚úÖ Using local profile data as fallback"),alert("Cannot connect to server. Using offline data.")):alert("Cannot connect to server and no local data available."),(a=this._getStoredAvatar())&&(this.userData.avatar=a,console.log("üñºÔ∏è Avatar loaded from separate storage")),e.abrupt("return");case 22:return console.log("üì° Attempting to fetch profile from API..."),e.next=25,this.apiService.getUserProfile();case 25:o=e.sent,console.log("üì¶ RAW profile data from API:",JSON.stringify(o,null,2)),console.log("üîÑ Converting profile data to frontend format..."),this.userData=this.apiService.convertToFrontendFormat(o),console.log("‚úÖ CONVERTED profile data:",JSON.stringify(this.userData,null,2)),(i=this._getStoredAvatar())&&(this.userData.avatar=i,console.log("üñºÔ∏è Avatar loaded from separate storage (overriding API)")),console.log("üéØ FINAL userData for rendering:",JSON.stringify(this.userData,null,2)),console.log("‚úÖ Profile loaded from API successfully"),e.next=65;break;case 36:if(e.prev=36,e.t0=e.catch(0),console.error("üí• Error loading profile from API:",e.t0),!e.t0.message.includes("Authentication failed")&&!e.t0.message.includes("401")){e.next=50;break}return console.log("üîí Authentication failed, clearing tokens and redirecting"),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData"),alert("Session expired. Please login again."),window.location.hash="#/signin",e.abrupt("return");case 50:if(!e.t0.message.includes("Profile not found")&&!e.t0.message.includes("404")){e.next=60;break}return console.log("üë§ Profile not found - new user, using default data"),this.userData={name:"",gender:"male",age:"",weight:"",height:"",targetWeight:"",activityLevel:"never",avatar:null},(s=localStorage.getItem("userEmail"))&&(this.userData.name=s.split("@")[0]),(l=this._getStoredAvatar())&&(this.userData.avatar=l,console.log("üñºÔ∏è Avatar loaded for new user from separate storage")),console.log("‚ÑπÔ∏è Using default profile for new user"),alert("Welcome! Please complete your profile information."),e.abrupt("return");case 60:console.log("üîÑ API failed, trying localStorage fallback..."),(u=this._getStoredUserData())?(this.userData=u,console.log("‚úÖ Using local profile data as fallback"),alert("Error loading profile from server. Using local data.")):(console.log("‚ùå No local data available, using default profile"),this.userData={name:"",gender:"male",age:"",weight:"",height:"",targetWeight:"",activityLevel:"never",avatar:null},alert("Error loading profile. Please update your information.")),(h=this._getStoredAvatar())&&(this.userData.avatar=h,console.log("üñºÔ∏è Avatar loaded from separate storage (fallback)"));case 65:return e.prev=65,this._hideLoading(),e.finish(65);case 68:case"end":return e.stop()}}),e,this,[[0,36,65,68]])}))),function(){return f.apply(this,arguments)})},{key:"_saveUserProfile",value:(u=h(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._showLoading("Saving profile..."),console.log("üíæ Saving profile data:",JSON.stringify(t,null,2)),e.next=5,this.apiService.updateUserProfile(t);case 5:return r=e.sent,console.log("‚úÖ Profile save result:",r),this._storeUserData(),console.log("üíæ Profile also saved to localStorage as backup"),this._storeAvatar(t.avatar),e.abrupt("return",!0);case 13:if(e.prev=13,e.t0=e.catch(0),console.error("üí• Error saving profile to API:",e.t0),!e.t0.message.includes("Authentication failed")){e.next=20;break}return alert("Session expired. Please login again."),this._handleSignOut(),e.abrupt("return",!1);case 20:return this._storeUserData(),this._storeAvatar(t.avatar),console.log("üíæ Fallback: Profile saved to localStorage only"),n=e.t0.message.includes("connect")?"Cannot connect to server. Profile saved locally only.":"Server error: ".concat(e.t0.message,". Profile saved locally only."),alert(n),e.abrupt("return",!0);case 26:return e.prev=26,this._hideLoading(),e.finish(26);case 29:case"end":return e.stop()}}),e,this,[[0,13,26,29]])}))),function(e){return u.apply(this,arguments)})},{key:"_getStoredUserData",value:function(){var e=localStorage.getItem("userData");if(e)try{var t=JSON.parse(e);return{name:t.name||"",gender:t.gender||"male",age:t.age||"",weight:t.weight||"",height:t.height||"",targetWeight:t.targetWeight||"",activityLevel:t.activityLevel||"never",avatar:null}}catch(e){return console.error("Error parsing stored user data:",e),null}return null}},{key:"_storeUserData",value:function(){try{var e={name:this.userData.name,gender:this.userData.gender,age:this.userData.age,weight:this.userData.weight,height:this.userData.height,targetWeight:this.userData.targetWeight,activityLevel:this.userData.activityLevel};localStorage.setItem("userData",JSON.stringify(e)),console.log("üíæ User data stored to localStorage (without avatar)")}catch(e){console.error("Error storing user data:",e)}}},{key:"_handleEditAvatarClicked",value:function(){this.view.showAvatarOptions()}},{key:"_handleCameraOptionClicked",value:(l=h(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.view.hideAvatarOptions(),e.prev=1,navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=5;break}return alert("Camera is not supported on this device/browser"),e.abrupt("return");case 5:return this.view.showCameraModal(),e.next=8,navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"}});case 8:this.cameraStream=e.sent,(t=document.getElementById("camera-video"))&&(t.srcObject=this.cameraStream),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.error("Error accessing camera:",e.t0),alert("Camera access failed: ".concat(e.t0.message)),this.view.hideCameraModal();case 18:case"end":return e.stop()}}),e,this,[[1,13]])}))),function(){return l.apply(this,arguments)})},{key:"_handleGalleryOptionClicked",value:function(){this.view.hideAvatarOptions();var e=document.getElementById("file-input");e&&e.click()}},{key:"_handleFileSelected",value:(i=h(c().mark((function e(t){var r,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:if(this.view.validateImageFile(r)){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,this._showLoading("Processing image..."),e.next=9,this.view.resizeImage(r);case 9:return n=e.sent,e.next=12,this.view.blobToBase64(n);case 12:a=e.sent,this._updateAvatar(a),this._hideLoading(),t.target.value="",e.next=23;break;case 18:e.prev=18,e.t0=e.catch(5),console.error("Error processing image:",e.t0),alert("Failed to process image. Please try again."),this._hideLoading();case 23:case"end":return e.stop()}}),e,this,[[5,18]])}))),function(e){return i.apply(this,arguments)})},{key:"_handleCameraModalClose",value:function(){this._stopCameraStream(),this.view.hideCameraModal(),this._resetCameraModal()}},{key:"_handleCameraCapture",value:function(){var e=document.getElementById("camera-video"),t=document.getElementById("camera-preview-canvas");if(e&&t){var r=t.getContext("2d");t.width=e.videoWidth,t.height=e.videoHeight,r.drawImage(e,0,0),this.capturedImageData=t.toDataURL("image/jpeg",.8),t.style.display="block",e.style.display="none",document.getElementById("camera-capture-btn").style.display="none",document.getElementById("camera-retake-btn").style.display="inline-block",document.getElementById("camera-use-btn").style.display="inline-block"}}},{key:"_handleCameraRetake",value:function(){var e=document.getElementById("camera-video"),t=document.getElementById("camera-preview-canvas");e&&t&&(e.style.display="block",t.style.display="none",document.getElementById("camera-capture-btn").style.display="inline-block",document.getElementById("camera-retake-btn").style.display="none",document.getElementById("camera-use-btn").style.display="none",this.capturedImageData=null)}},{key:"_handleCameraUse",value:function(){this.capturedImageData&&(this._updateAvatar(this.capturedImageData),this._handleCameraModalClose())}},{key:"_updateAvatar",value:function(e){this.userData.avatar=e;var t=document.getElementById("user-avatar");t&&(t.src=e),this._storeAvatar(e),console.log("üñºÔ∏è Avatar updated and stored for current user")}},{key:"_stopCameraStream",value:function(){this.cameraStream&&(this.cameraStream.getTracks().forEach((function(e){return e.stop()})),this.cameraStream=null)}},{key:"_resetCameraModal",value:function(){var e=document.getElementById("camera-video"),t=document.getElementById("camera-preview-canvas");e&&(e.style.display="block"),t&&(t.style.display="none");var r=document.getElementById("camera-capture-btn"),n=document.getElementById("camera-retake-btn"),a=document.getElementById("camera-use-btn");r&&(r.style.display="inline-block"),n&&(n.style.display="none"),a&&(a.style.display="none"),this.capturedImageData=null}},{key:"_showLoading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Loading...",t=document.createElement("div");t.id="loading-overlay",t.innerHTML='\n      <div style="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0,0,0,0.5);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        z-index: 1000;\n        color: white;\n        font-size: 18px;\n      ">\n        <div style="\n          background: white;\n          color: #333;\n          padding: 20px;\n          border-radius: 10px;\n          text-align: center;\n        ">\n          <div style="margin-bottom: 10px;">‚è≥</div>\n          '.concat(e,"\n        </div>\n      </div>\n    "),document.body.appendChild(t)}},{key:"_hideLoading",value:function(){var e=document.getElementById("loading-overlay");e&&e.remove()}},{key:"_handleGenderOptionClicked",value:function(e){this.view.toggleGenderOption(e)}},{key:"_handleUpdateDataClicked",value:function(){this.isEditMode=!0,this._renderView()}},{key:"_handleSaveDataClicked",value:(o=h(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.view.getUserData())){e.next=9;break}return this.userData=s(s({},this.userData),t),e.next=5,this._saveUserProfile(this.userData);case 5:r=e.sent,this.isEditMode=!1,this._renderView(),r?alert("Profile updated successfully!"):alert("Failed to save profile. Please try again.");case 9:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"_handleSignOutClicked",value:function(){confirm("Are you sure you want to sign out?")&&this._handleSignOut()}},{key:"_handleSignOut",value:function(){localStorage.removeItem("isAuthenticated"),localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData"),console.log("üö™ User signed out, authentication data cleared"),console.log("üñºÔ∏è Avatar preserved for future login"),window.location.hash="#/signin"}},{key:"_handleNumberIncrease",value:function(e){var t=document.getElementById(e);if(t){var r=parseInt(t.value)||0;r<(parseInt(t.getAttribute("max"))||1/0)&&(t.value=r+1)}}},{key:"_handleNumberDecrease",value:function(e){var t=document.getElementById(e);if(t){var r=parseInt(t.value)||0;r>(parseInt(t.getAttribute("min"))||0)&&(t.value=r-1)}}}],t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,o,i,l,u,f,v}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function p(){p=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(t,r,n,a){var o=r&&r.prototype instanceof d?r:d,i=Object.create(o.prototype);return l(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=E(s,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var c=u(t,r,n);if("normal"===c.type){if(a=n.done?4:2,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a=4,n.method="throw",n.arg=c.arg)}}}(t,n,new I(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h={};function d(){}function f(){}function v(){}var m={};l(m,o,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(O([])));w&&w!==r&&n.call(w,o)&&(m=w);var b=v.prototype=d.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(a,o,i,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==g(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(h).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}var a;l(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function E(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,h;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function S(e){this.tryEntries.push(e)}function x(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function I(e){this.tryEntries=[[-1]],e.forEach(S,this),this.reset(!0)}function O(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(g(t)+" is not iterable")}return f.prototype=v,l(b,"constructor",v),l(v,"constructor",f),f.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},k(_.prototype),l(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new _(c(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(b),l(b,s,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=O,I.prototype={constructor:I,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,l=o[1],c=o[2];if(-1===o[0])return n("end"),!1;if(!l&&!c)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<l)return this.method="next",this.arg=e,n(l),!0;if(s<c)return n(c),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),x(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;x(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:O(t),r,n},"next"===this.method&&(this.arg=e),h}},t}function m(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){m(o,n,a,i,s,"next",e)}function s(e){m(o,n,a,i,s,"throw",e)}i(void 0)}))}}const w={render:function(){return y(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'\n      <div class="page-outer-wrapper">\n        <div class="page-inner-wrapper">\n          <div id="profile-container" class="profile-container">\n            <h1>Loading profile...</h1>\n          </div>\n        </div>\n      </div>\n    ');case 1:case"end":return e.stop()}}),e)})))()},afterRender:function(){var e=this;return y(p().mark((function t(){var r,n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=document.getElementById("profile-container"),n=new v({container:r}),t.next=4,n.init();case 4:e.presenter=n;case 5:case"end":return t.stop()}}),t)})))()},onLeave:function(){this.presenter&&this.presenter.onLeave&&this.presenter.onLeave()}}}}]);
//# sourceMappingURL=app~d51e692e.bundle.js.map