{"version":3,"file":"app~28c8c3f7.bundle.js","mappings":"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","sources":["webpack://kalkulori/./src/scripts/pages/home/home-presenter.js"],"sourcesContent":["import HomeView from './home-view';\r\nimport mealApiService from '../../utils/meal-api-service';\r\nimport { \r\n  formatMealPlanData, \r\n  calculateTotalCalories, \r\n  getDefaultMealPlan \r\n} from './meal-plan';\r\nimport { \r\n  validateKeywords, \r\n  countSelectedKeywordsByCategory, \r\n  groupKeywordsByCategory,\r\n  findCategoryByKeyword \r\n} from './meal-categories.js';\r\n\r\nclass HomePresenter {\r\n  constructor({ container }) {\r\n    this.container = container;\r\n    this.lastFetchDate = null;\r\n    this.data = {\r\n      currentCalories: 0,\r\n      calorieLimit: 1500,\r\n      selectedKeywords: [],\r\n      dailyLog: null,\r\n      mealEntries: [],\r\n      loading: true,\r\n      error: null,\r\n      currentCategory: null,\r\n      mealPlan: {\r\n        plans: [],\r\n        totalCalories: 0,\r\n        targetCalories: 1500,\r\n        loading: false,\r\n        error: null\r\n      },\r\n      suggestedMeals: [\r\n        {\r\n          name: 'Chicken Soto',\r\n          image: './public/image/meals/chicken-soto.jpg',\r\n          calories: 312\r\n        },\r\n        {\r\n          name: 'Fried Noodles',\r\n          image: './public/image/meals/fried-noodles.jpg',\r\n          calories: 280\r\n        },\r\n        {\r\n          name: 'Meatballs Soup',\r\n          image: './public/image/meals/meatballs-soup.jpg',\r\n          calories: 283\r\n        },\r\n        {\r\n          name: 'Noodles Soup',\r\n          image: './public/image/meals/noodles-soup.jpg',\r\n          calories: 137\r\n        }\r\n      ],\r\n      mealSuggestions: {\r\n        loading: false,\r\n        error: null,\r\n        data: [],\r\n        isFromAPI: false\r\n      }\r\n    };\r\n    \r\n    this.eventHandlers = {\r\n      onAddMealClicked: this._handleAddMeal.bind(this),\r\n      onDeleteMealClicked: this._handleDeleteMeal.bind(this),\r\n      onCategoryClicked: this._handleCategoryClicked.bind(this),\r\n      onPopupClosed: this._handlePopupClosed.bind(this),\r\n      onFindMealsClicked: this._handleFindMeals.bind(this),\r\n      onClearAllClicked: this._handleClearAll.bind(this),\r\n      onKeywordRemoved: this._handleKeywordRemoved.bind(this),\r\n      onGenerateMealPlan: this._handleGenerateMealPlan.bind(this),\r\n      onMealPlanItemClicked: this._handleMealPlanItemClicked.bind(this),\r\n      onCompleteProfileClicked: this._handleCompleteProfile.bind(this),\r\n      onSuggestedMealClicked: this._handleSuggestedMealClicked.bind(this),\r\n      onSuggestedMealDetailsClicked: this._handleSuggestedMealDetailsClicked.bind(this)\r\n    };\r\n\r\n    this._bindCustomEvents();\r\n    this._startDayChangeMonitor();\r\n  }\r\n\r\n  async init() {\r\n    try {\r\n      window.mealApiService = mealApiService;\r\n      \r\n      this._checkAndResetForNewDay();\r\n      this._loadFromSessionStorage();\r\n      \r\n      this.data.loading = true;\r\n      this._renderView();\r\n      \r\n      await this._fetchDailyData();\r\n      await this._fetchMealPlan();\r\n    } catch (error) {\r\n      console.error('Failed to initialize Home page:', error);\r\n      this.data.error = 'Failed to load daily data';\r\n      this.data.loading = false;\r\n      this._renderView();\r\n    }\r\n  }\r\n\r\n  _getCurrentUserId() {\r\n    return localStorage.getItem('userId') || 'anonymous';\r\n  }\r\n\r\n  _startDayChangeMonitor() {\r\n    setInterval(() => {\r\n      this._checkAndResetForNewDay();\r\n    }, 60000);\r\n  }\r\n\r\n  _checkAndResetForNewDay() {\r\n    const today = this._getTodayString();\r\n    const userId = this._getCurrentUserId();\r\n    const lastDateKey = `lastAppDate_${userId}`;\r\n    const lastDate = localStorage.getItem(lastDateKey);\r\n    \r\n    if (lastDate !== today) {\r\n      console.log('New day detected, resetting data for user:', userId);\r\n      \r\n      localStorage.setItem(lastDateKey, today);\r\n      \r\n      const keysToRemove = [\r\n        `mealSuggestions_${userId}`,\r\n        `dailyLogs_${userId}`,\r\n        `mealPlan_${userId}`\r\n      ];\r\n      \r\n      keysToRemove.forEach(key => {\r\n        sessionStorage.removeItem(key);\r\n      });\r\n      \r\n      this.data.selectedKeywords = [];\r\n      this.data.mealSuggestions = {\r\n        loading: false,\r\n        error: null,\r\n        data: [],\r\n        isFromAPI: false\r\n      };\r\n      this.data.suggestedMeals = [\r\n        {\r\n          name: 'Chicken Soto',\r\n          image: './public/image/meals/chicken-soto.jpg',\r\n          calories: 312\r\n        },\r\n        {\r\n          name: 'Fried Noodles',\r\n          image: './public/image/meals/fried-noodles.jpg',\r\n          calories: 280\r\n        },\r\n        {\r\n          name: 'Meatballs Soup',\r\n          image: './public/image/meals/meatballs-soup.jpg',\r\n          calories: 283\r\n        },\r\n        {\r\n          name: 'Noodles Soup',\r\n          image: './public/image/meals/noodles-soup.jpg',\r\n          calories: 137\r\n        }\r\n      ];\r\n      \r\n      this.data.currentCalories = 0;\r\n      this.data.mealEntries = [];\r\n      this.data.dailyLog = null;\r\n      this.data.mealPlan = {\r\n        plans: [],\r\n        totalCalories: 0,\r\n        targetCalories: 1500,\r\n        loading: false,\r\n        error: null\r\n      };\r\n      this.lastFetchDate = null;\r\n      \r\n      if (this.container && this.container.innerHTML) {\r\n        this._fetchDailyData();\r\n        this._fetchMealPlan();\r\n      }\r\n    }\r\n  }\r\n\r\n  _getTodayString() {\r\n    const now = new Date();\r\n    const year = now.getFullYear();\r\n    const month = String(now.getMonth() + 1).padStart(2, '0');\r\n    const day = String(now.getDate()).padStart(2, '0');\r\n    return `${year}-${month}-${day}`;\r\n  }\r\n\r\n  _saveToSessionStorage() {\r\n    const today = this._getTodayString();\r\n    const userId = this._getCurrentUserId();\r\n    \r\n    const mealSuggestionsData = {\r\n      date: today,\r\n      userId: userId,\r\n      selectedKeywords: this.data.selectedKeywords,\r\n      mealSuggestions: {\r\n        loading: false,\r\n        error: this.data.mealSuggestions.error,\r\n        data: this.data.mealSuggestions.data,\r\n        isFromAPI: this.data.mealSuggestions.isFromAPI\r\n      },\r\n      suggestedMeals: this.data.suggestedMeals\r\n    };\r\n    sessionStorage.setItem(`mealSuggestions_${userId}`, JSON.stringify(mealSuggestionsData));\r\n\r\n    const dailyLogsData = {\r\n      date: today,\r\n      userId: userId,\r\n      currentCalories: this.data.currentCalories,\r\n      calorieLimit: this.data.calorieLimit,\r\n      dailyLog: this.data.dailyLog,\r\n      mealEntries: this.data.mealEntries,\r\n      lastFetchDate: this.lastFetchDate\r\n    };\r\n    sessionStorage.setItem(`dailyLogs_${userId}`, JSON.stringify(dailyLogsData));\r\n\r\n    const mealPlanData = {\r\n      date: today,\r\n      userId: userId,\r\n      mealPlan: this.data.mealPlan\r\n    };\r\n    sessionStorage.setItem(`mealPlan_${userId}`, JSON.stringify(mealPlanData));\r\n  }\r\n\r\n  _loadFromSessionStorage() {\r\n    const today = this._getTodayString();\r\n    const userId = this._getCurrentUserId();\r\n    \r\n    try {\r\n      const mealSuggestionsStored = sessionStorage.getItem(`mealSuggestions_${userId}`);\r\n      if (mealSuggestionsStored) {\r\n        const sessionData = JSON.parse(mealSuggestionsStored);\r\n        if (sessionData.date === today && sessionData.userId === userId) {\r\n          this.data.selectedKeywords = sessionData.selectedKeywords || [];\r\n          this.data.mealSuggestions = {\r\n            loading: false,\r\n            error: null,\r\n            data: sessionData.mealSuggestions?.data || [],\r\n            isFromAPI: sessionData.mealSuggestions?.isFromAPI || false\r\n          };\r\n          this.data.suggestedMeals = sessionData.suggestedMeals || this.data.suggestedMeals;\r\n          console.log('Restored meal suggestions from session storage for user:', userId);\r\n        } else {\r\n          sessionStorage.removeItem(`mealSuggestions_${userId}`);\r\n        }\r\n      }\r\n\r\n      const dailyLogsStored = sessionStorage.getItem(`dailyLogs_${userId}`);\r\n      if (dailyLogsStored) {\r\n        const dailyData = JSON.parse(dailyLogsStored);\r\n        if (dailyData.date === today && dailyData.userId === userId) {\r\n          this.data.currentCalories = dailyData.currentCalories || 0;\r\n          this.data.calorieLimit = dailyData.calorieLimit || 1500;\r\n          this.data.dailyLog = dailyData.dailyLog;\r\n          this.data.mealEntries = dailyData.mealEntries || [];\r\n          this.lastFetchDate = dailyData.lastFetchDate;\r\n          console.log('Restored daily logs from session storage for user:', userId);\r\n        } else {\r\n          sessionStorage.removeItem(`dailyLogs_${userId}`);\r\n        }\r\n      }\r\n\r\n      const mealPlanStored = sessionStorage.getItem(`mealPlan_${userId}`);\r\n      if (mealPlanStored) {\r\n        const planData = JSON.parse(mealPlanStored);\r\n        if (planData.date === today && planData.userId === userId && planData.mealPlan) {\r\n          this.data.mealPlan = planData.mealPlan;\r\n          console.log('Restored meal plan from session storage for user:', userId);\r\n        } else {\r\n          sessionStorage.removeItem(`mealPlan_${userId}`);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading from session storage:', error);\r\n      sessionStorage.removeItem(`mealSuggestions_${userId}`);\r\n      sessionStorage.removeItem(`dailyLogs_${userId}`);\r\n      sessionStorage.removeItem(`mealPlan_${userId}`);\r\n    }\r\n  }\r\n\r\n  async _fetchDailyData(forceRefresh = false) {\r\n    try {\r\n      const today = this._getTodayString();\r\n      const userId = this._getCurrentUserId();\r\n      \r\n      if (!forceRefresh && this.lastFetchDate === today && this.data.mealEntries.length > 0) {\r\n        this.data.loading = false;\r\n        this._renderView();\r\n        return;\r\n      }\r\n      \r\n      const dailyData = await mealApiService.getDailyLog(today);\r\n      \r\n      this.data.dailyLog = dailyData.daily_log;\r\n      \r\n      console.log('📊 Raw meal entries from API for user', userId, ':', dailyData.meal_entries);\r\n      \r\n      this.data.mealEntries = await this._enrichMealEntries(dailyData.meal_entries || []);\r\n      \r\n      console.log('✨ Enriched meal entries for user', userId, ':', this.data.mealEntries);\r\n      \r\n      this.data.currentCalories = dailyData.daily_log.total_calories_consumed || 0;\r\n      \r\n      if (dailyData.daily_log.remaining_calories !== undefined) {\r\n        this.data.calorieLimit = this.data.currentCalories + dailyData.daily_log.remaining_calories;\r\n      }\r\n      \r\n      this.lastFetchDate = today;\r\n      this._saveToSessionStorage();\r\n      \r\n    } catch (error) {\r\n      console.error('Error fetching daily data for user', this._getCurrentUserId(), ':', error);\r\n      this.data.error = 'Unable to load today\\'s data';\r\n      this.data.currentCalories = 0;\r\n      this.data.calorieLimit = 1500;\r\n      this.data.mealEntries = [];\r\n      this.data.dailyLog = null;\r\n    } finally {\r\n      this.data.loading = false;\r\n      this._renderView();\r\n    }\r\n  }\r\n\r\n  async _enrichMealEntries(mealEntries) {\r\n    const enrichedEntries = [];\r\n    \r\n    for (const meal of mealEntries) {\r\n      let enrichedMeal = { ...meal };\r\n      \r\n      const originalMealId = meal.id;\r\n      \r\n      if (!enrichedMeal.calories && enrichedMeal.calories_consumed) {\r\n        enrichedMeal.calories = enrichedMeal.calories_consumed;\r\n      }\r\n      if (!enrichedMeal.protein && enrichedMeal.protein_consumed) {\r\n        enrichedMeal.protein = enrichedMeal.protein_consumed;\r\n      }\r\n      if (!enrichedMeal.carbs && enrichedMeal.carbs_consumed) {\r\n        enrichedMeal.carbs = enrichedMeal.carbs_consumed;\r\n      }\r\n      if (!enrichedMeal.fat && enrichedMeal.fat_consumed) {\r\n        enrichedMeal.fat = enrichedMeal.fat_consumed;\r\n      }\r\n      \r\n      if ((meal.is_from_recipe || meal.is_from_search) && meal.recipe_id) {\r\n        try {\r\n          const mealDetails = await mealApiService.getMealDetails(meal.recipe_id);\r\n          if (mealDetails && mealDetails.meal) {\r\n            const recipeData = mealDetails.meal;\r\n            enrichedMeal.food_details = {\r\n              id: meal.is_from_search ? meal.food_item_id : `recipe_${meal.recipe_id}`,\r\n              food_name: recipeData.food_name || meal.food_name || (meal.is_from_search ? 'Search Result' : 'Recipe Meal'),\r\n              calories_per_serving: recipeData.calories_per_serving,\r\n              protein_per_serving: recipeData.protein_per_serving,\r\n              carbs_per_serving: recipeData.carbs_per_serving,\r\n              fat_per_serving: recipeData.fat_per_serving,\r\n              serving_size: recipeData.serving_size,\r\n              serving_unit: recipeData.serving_unit,\r\n              image_url: recipeData.image_url,\r\n              is_recipe: meal.is_from_recipe ? true : false,\r\n              is_from_search: meal.is_from_search ? true : false,\r\n              recipe_id: meal.recipe_id\r\n            };\r\n            console.log(`✅ Successfully enriched ${meal.is_from_search ? 'search' : 'recipe'} meal:`, enrichedMeal.food_details.food_name, 'with image:', enrichedMeal.food_details.image_url);\r\n          } else {\r\n            throw new Error('No meal details found');\r\n          }\r\n        } catch (error) {\r\n          console.warn(`Could not fetch ${meal.is_from_search ? 'search' : 'recipe'} meal details:`, error);\r\n          \r\n          const caloriesPerServing = Math.round((meal.calories || meal.calories_consumed || 0) / (meal.servings || 1));\r\n          const proteinPerServing = parseFloat(((meal.protein || meal.protein_consumed || 0) / (meal.servings || 1)).toFixed(2));\r\n          const carbsPerServing = parseFloat(((meal.carbs || meal.carbs_consumed || 0) / (meal.servings || 1)).toFixed(2));\r\n          const fatPerServing = parseFloat(((meal.fat || meal.fat_consumed || 0) / (meal.servings || 1)).toFixed(2));\r\n          \r\n          enrichedMeal.food_details = {\r\n            id: meal.food_item_id,\r\n            food_name: meal.food_name || (meal.is_from_search ? 'Search Result' : 'Recipe Meal'),\r\n            calories_per_serving: caloriesPerServing,\r\n            protein_per_serving: proteinPerServing,\r\n            carbs_per_serving: carbsPerServing,\r\n            fat_per_serving: fatPerServing,\r\n            serving_size: 1,\r\n            serving_unit: \"serving\",\r\n            image_url: null,\r\n            is_recipe: meal.is_from_recipe ? true : false,\r\n            is_from_search: meal.is_from_search ? true : false,\r\n            recipe_id: meal.recipe_id\r\n          };\r\n          console.log(`⚠️ Using fallback data for ${meal.is_from_search ? 'search' : 'recipe'} meal:`, enrichedMeal.food_details.food_name);\r\n        }\r\n      }\r\n      else if (meal.food_details) {\r\n        enrichedMeal.food_details = meal.food_details;\r\n      }\r\n      else {\r\n        const caloriesPerServing = Math.round((meal.calories || meal.calories_consumed || 0) / (meal.servings || 1));\r\n        const proteinPerServing = parseFloat(((meal.protein || meal.protein_consumed || 0) / (meal.servings || 1)).toFixed(2));\r\n        const carbsPerServing = parseFloat(((meal.carbs || meal.carbs_consumed || 0) / (meal.servings || 1)).toFixed(2));\r\n        const fatPerServing = parseFloat(((meal.fat || meal.fat_consumed || 0) / (meal.servings || 1)).toFixed(2));\r\n        \r\n        enrichedMeal.food_details = {\r\n          id: meal.food_item_id,\r\n          food_name: meal.food_name || 'Unknown Food',\r\n          calories_per_serving: caloriesPerServing,\r\n          protein_per_serving: proteinPerServing,\r\n          carbs_per_serving: carbsPerServing,\r\n          fat_per_serving: fatPerServing,\r\n          serving_size: 1,\r\n          serving_unit: \"serving\",\r\n          image_url: null\r\n        };\r\n      }\r\n      \r\n      enrichedMeal.id = originalMealId;\r\n      \r\n      enrichedMeal._debug_info = {\r\n        original_id: originalMealId,\r\n        user_id: meal.user_id,\r\n        is_from_recipe: meal.is_from_recipe,\r\n        is_from_search: meal.is_from_search,\r\n        recipe_id: meal.recipe_id,\r\n        food_item_id: meal.food_item_id\r\n      };\r\n      \r\n      enrichedEntries.push(enrichedMeal);\r\n    }\r\n    \r\n    return enrichedEntries;\r\n  }\r\n\r\n  async _fetchMealPlan(forceRefresh = false) {\r\n    try {\r\n      const today = this._getTodayString();\r\n      const userId = this._getCurrentUserId();\r\n      const hasCachedPlan = this.data.mealPlan.plans && this.data.mealPlan.plans.length > 0;\r\n      \r\n      if (!forceRefresh && hasCachedPlan) {\r\n        console.log('🍽️ Using cached meal plan for user:', userId);\r\n        return;\r\n      }\r\n\r\n      this.data.mealPlan.loading = true;\r\n      this.data.mealPlan.error = null;\r\n      this._renderView();\r\n\r\n      console.log('🍽️ Fetching meal plan for user:', userId);\r\n      const mealPlanData = await mealApiService.generateMealPlan();\r\n      console.log('✅ Meal plan data received for user', userId, ':', mealPlanData);\r\n      \r\n      const formattedPlans = formatMealPlanData(mealPlanData);\r\n      \r\n      if (!Array.isArray(formattedPlans) || formattedPlans.length === 0) {\r\n        console.error('❌ formatMealPlanData returned invalid data:', formattedPlans);\r\n        throw new Error('Failed to format meal plan data');\r\n      }\r\n      \r\n      this.data.mealPlan.plans = formattedPlans;\r\n      this.data.mealPlan.totalCalories = calculateTotalCalories(this.data.mealPlan.plans);\r\n      this.data.mealPlan.targetCalories = mealPlanData.user_info?.daily_calorie_target || 1500;\r\n      \r\n      this._saveToSessionStorage();\r\n      console.log('✅ Meal plan formatted successfully for user:', userId);\r\n      \r\n    } catch (error) {\r\n      console.error('💥 Error fetching meal plan for user', this._getCurrentUserId(), ':', error);\r\n      \r\n      let errorMessage = 'Unable to load meal plan';\r\n      \r\n      if (error.message.includes('Authentication') || error.message.includes('login')) {\r\n        errorMessage = 'Authentication required. Please login again.';\r\n      } else if (error.message.includes('Profile not found') || error.message.includes('404')) {\r\n        errorMessage = 'Please complete your profile first';\r\n      } else if (error.message.includes('Daily calorie target') || error.message.includes('400')) {\r\n        errorMessage = 'Please set your daily calorie target in profile';\r\n      } else if (error.message.includes('Server error') || error.message.includes('500')) {\r\n        errorMessage = 'Profile setup required. Please complete your profile.';\r\n      } else if (error.message.includes('503') || error.message.includes('ML service')) {\r\n        errorMessage = 'Meal plan service temporarily unavailable';\r\n      } else if (error.message.includes('504') || error.message.includes('timeout')) {\r\n        errorMessage = 'Request timeout. Please try again';\r\n      } else if (error.message.includes('connect') || error.message.includes('network') || error.message.includes('Network error')) {\r\n        errorMessage = 'Connection error. Please check your internet';\r\n      } else if (error.message.includes('No meal plans available') || error.message.includes('No meal plans generated')) {\r\n        errorMessage = 'No meal plans generated. Please try again.';\r\n      } else if (error.message.includes('Invalid')) {\r\n        errorMessage = 'Invalid data received. Please try again.';\r\n      }\r\n      \r\n      this.data.mealPlan.error = errorMessage;\r\n      \r\n      if (!error.message.includes('Authentication') && !error.message.includes('login')) {\r\n        this.data.mealPlan.plans = getDefaultMealPlan();\r\n        this.data.mealPlan.totalCalories = calculateTotalCalories(this.data.mealPlan.plans);\r\n        console.log('📋 Using default meal plan as fallback for user:', this._getCurrentUserId());\r\n      } else {\r\n        this.data.mealPlan.plans = [];\r\n        this.data.mealPlan.totalCalories = 0;\r\n      }\r\n      \r\n    } finally {\r\n      this.data.mealPlan.loading = false;\r\n      this._renderView();\r\n    }\r\n  }\r\n\r\n  _bindCustomEvents() {\r\n    document.addEventListener('keywordToggled', (event) => {\r\n      this._handleKeywordToggled(event.detail.keyword, event.detail.selected);\r\n    });\r\n\r\n    document.addEventListener('mealPlanMealAdded', () => {\r\n      console.log('🔄 Meal plan meal added, refreshing data for user:', this._getCurrentUserId());\r\n      this._refreshDailyData();\r\n    });\r\n  }\r\n\r\n  async _refreshDailyData() {\r\n    try {\r\n      await this._fetchDailyData(true);\r\n    } catch (error) {\r\n      console.error('Error refreshing daily data for user', this._getCurrentUserId(), ':', error);\r\n    }\r\n  }\r\n\r\n  _renderView() {\r\n    HomeView.render(this.container, this.data);\r\n    HomeView.afterRender(this.eventHandlers);\r\n  }\r\n\r\n  _handleAddMeal() {\r\n    window.location.hash = '#/add-meal';\r\n  }\r\n\r\n  async _handleDeleteMeal(mealId) {\r\n    try {\r\n      this.data.loading = true;\r\n      this._renderView();\r\n      \r\n      await mealApiService.deleteMealEntry(mealId);\r\n      \r\n      await this._refreshDailyData();\r\n      \r\n    } catch (error) {\r\n      console.error('Delete failed for user', this._getCurrentUserId(), ':', error);\r\n      alert('Failed to delete meal. Please try again.');\r\n    } finally {\r\n      this.data.loading = false;\r\n      this._renderView();\r\n    }\r\n  }\r\n\r\n  _handleCategoryClicked(category) {\r\n    console.log(`Category clicked by user ${this._getCurrentUserId()}: ${category}`);\r\n    this.data.currentCategory = category;\r\n    \r\n    setTimeout(() => {\r\n      HomeView.showCategoryPopup(category, this.data.selectedKeywords);\r\n    }, 100);\r\n  }\r\n\r\n  _handlePopupClosed() {\r\n    console.log('Popup closed for user:', this._getCurrentUserId());\r\n    this.data.currentCategory = null;\r\n    HomeView.hideCategoryPopup();\r\n    this._renderView();\r\n  }\r\n\r\n  _handleKeywordToggled(keyword, selected) {\r\n    console.log(`User ${this._getCurrentUserId()} keyword ${keyword} ${selected ? 'selected' : 'deselected'}`);\r\n    \r\n    const validKeywords = validateKeywords([keyword]);\r\n    if (validKeywords.length === 0) {\r\n      console.warn(`Invalid keyword: ${keyword}`);\r\n      return;\r\n    }\r\n    \r\n    if (selected) {\r\n      if (this.data.selectedKeywords.length >= 6) {\r\n        alert('Maximum 6 keywords allowed! Please remove some keywords first.');\r\n        setTimeout(() => {\r\n          const keywordElement = document.querySelector(`[data-keyword=\"${keyword}\"]`);\r\n          if (keywordElement) {\r\n            keywordElement.classList.remove('selected');\r\n          }\r\n        }, 100);\r\n        return;\r\n      }\r\n      \r\n      if (!this.data.selectedKeywords.includes(keyword)) {\r\n        this.data.selectedKeywords.push(keyword);\r\n      }\r\n    } else {\r\n      this.data.selectedKeywords = this.data.selectedKeywords.filter(k => k !== keyword);\r\n    }\r\n    \r\n    this._saveToSessionStorage();\r\n    \r\n    const categoryCounts = countSelectedKeywordsByCategory(this.data.selectedKeywords);\r\n    console.log('Selected keywords by category for user', this._getCurrentUserId(), ':', categoryCounts);\r\n    console.log('Total selected keywords for user', this._getCurrentUserId(), ':', this.data.selectedKeywords);\r\n  }\r\n\r\n  async _handleFindMeals() {\r\n    console.log('Finding meals with keywords for user', this._getCurrentUserId(), ':', this.data.selectedKeywords);\r\n    \r\n    if (this.data.selectedKeywords.length === 0) {\r\n      alert('Please select some preferences first!');\r\n      return;\r\n    }\r\n\r\n    if (this.data.selectedKeywords.length > 6) {\r\n      alert('Maximum 6 keywords allowed! Please remove some keywords first.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      this.data.mealSuggestions.loading = true;\r\n      this.data.mealSuggestions.error = null;\r\n      this.data.mealSuggestions.isFromAPI = true;\r\n      this._renderView();\r\n\r\n      console.log('🔍 Fetching meal suggestions from API for user:', this._getCurrentUserId());\r\n      console.log('Keywords:', this.data.selectedKeywords);\r\n\r\n      const suggestionsData = await mealApiService.getMealSuggestions(this.data.selectedKeywords);\r\n      console.log('✅ Meal suggestions received for user', this._getCurrentUserId(), ':', suggestionsData);\r\n\r\n      if (suggestionsData && suggestionsData.suggestions && suggestionsData.suggestions.length > 0) {\r\n        const formattedSuggestions = suggestionsData.suggestions.map(suggestion => ({\r\n          id: suggestion.recipe_id,\r\n          name: suggestion.name,\r\n          calories: suggestion.calories,\r\n          image: suggestion.image_url || 'https://images.unsplash.com/photo-1546554137-f86b9593a222?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80',\r\n          serving_size: suggestion.serving_size || 1,\r\n          serving_unit: suggestion.serving_unit || 'serving',\r\n          protein: suggestion.protein,\r\n          carbohydrate: suggestion.carbohydrate,\r\n          fat: suggestion.fat\r\n        }));\r\n\r\n        this.data.mealSuggestions.data = formattedSuggestions;\r\n        this.data.suggestedMeals = formattedSuggestions.slice(0, 8);\r\n        this.data.mealSuggestions.loading = false;\r\n        this.data.mealSuggestions.error = null;\r\n        this.data.mealSuggestions.isFromAPI = true;\r\n        \r\n        this._saveToSessionStorage();\r\n        \r\n        console.log('✅ Meal suggestions formatted successfully for user:', this._getCurrentUserId());\r\n        console.log('Total suggestions:', formattedSuggestions.length);\r\n        \r\n        alert(`Found ${formattedSuggestions.length} meal suggestions based on your preferences!`);\r\n      } else {\r\n        console.log('⚠️ No suggestions found for user', this._getCurrentUserId(), ', using fallback');\r\n        this._useFallbackSuggestions();\r\n        alert('No specific suggestions found for your keywords. Showing general recommendations.');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('💥 Error fetching meal suggestions for user', this._getCurrentUserId(), ':', error);\r\n      \r\n      let errorMessage = 'Failed to get meal suggestions';\r\n      \r\n      if (error.message.includes('Profile not found') || error.message.includes('404')) {\r\n        errorMessage = 'Please complete your profile first to get personalized suggestions.';\r\n      } else if (error.message.includes('Daily calorie target') || error.message.includes('400')) {\r\n        errorMessage = 'Please set your daily calorie target in profile to get suggestions.';\r\n      } else if (error.message.includes('503') || error.message.includes('service')) {\r\n        errorMessage = 'Meal suggestion service is temporarily unavailable. Using default suggestions.';\r\n      } else if (error.message.includes('504') || error.message.includes('timeout')) {\r\n        errorMessage = 'Request timeout. Using default suggestions.';\r\n      } else if (error.message.includes('Network error')) {\r\n        errorMessage = 'Network error. Please check your connection.';\r\n      }\r\n      \r\n      this.data.mealSuggestions.error = errorMessage;\r\n      this._useFallbackSuggestions();\r\n      alert(errorMessage);\r\n      \r\n    } finally {\r\n      this.data.mealSuggestions.loading = false;\r\n      this._saveToSessionStorage();\r\n      this._renderView();\r\n    }\r\n  }\r\n\r\n  _useFallbackSuggestions() {\r\n    this.data.mealSuggestions.data = [\r\n      {\r\n        id: \"default_1\",\r\n        name: 'Chicken Soto',\r\n        image: './public/image/meals/chicken-soto.jpg',\r\n        calories: 312,\r\n        serving_size: 1,\r\n        serving_unit: 'serving'\r\n      },\r\n      {\r\n        id: \"default_2\",\r\n        name: 'Fried Noodles',\r\n        image: './public/image/meals/fried-noodles.jpg',\r\n        calories: 280,\r\n        serving_size: 1,\r\n        serving_unit: 'serving'\r\n      },\r\n      {\r\n        id: \"default_3\",\r\n        name: 'Meatballs Soup',\r\n        image: './public/image/meals/meatballs-soup.jpg',\r\n        calories: 283,\r\n        serving_size: 1,\r\n        serving_unit: 'serving'\r\n      },\r\n      {\r\n        id: \"default_4\",\r\n        name: 'Noodles Soup',\r\n        image: './public/image/meals/noodles-soup.jpg',\r\n        calories: 137,\r\n        serving_size: 1,\r\n        serving_unit: 'serving'\r\n      }\r\n    ];\r\n    \r\n    this.data.suggestedMeals = this.data.mealSuggestions.data;\r\n    this.data.mealSuggestions.loading = false;\r\n    this.data.mealSuggestions.error = null;\r\n    this.data.mealSuggestions.isFromAPI = false;\r\n    this._saveToSessionStorage();\r\n  }\r\n\r\n  _handleClearAll() {\r\n    console.log('Clearing all selected keywords for user:', this._getCurrentUserId());\r\n    this.data.selectedKeywords = [];\r\n    \r\n    this._useFallbackSuggestions();\r\n    this.data.mealSuggestions.loading = false;\r\n    this.data.mealSuggestions.error = null;\r\n    this.data.mealSuggestions.isFromAPI = false;\r\n    \r\n    this._saveToSessionStorage();\r\n    this._renderView();\r\n  }\r\n\r\n  _handleKeywordRemoved(keyword) {\r\n    console.log(`User ${this._getCurrentUserId()} removing keyword: ${keyword}`);\r\n    this.data.selectedKeywords = this.data.selectedKeywords.filter(k => k !== keyword);\r\n    \r\n    this._saveToSessionStorage();\r\n    \r\n    const categoryCounts = countSelectedKeywordsByCategory(this.data.selectedKeywords);\r\n    console.log('Updated keywords by category for user', this._getCurrentUserId(), ':', categoryCounts);\r\n    \r\n    this._renderView();\r\n  }\r\n\r\n  async _handleGenerateMealPlan() {\r\n    await this._fetchMealPlan(true);\r\n  }\r\n\r\n  _handleMealPlanItemClicked(mealData) {\r\n    console.log('Meal plan item clicked by user', this._getCurrentUserId(), ':', mealData);\r\n    \r\n    if (window.FoodCard && window.FoodCard.showAddMealPopup) {\r\n      window.FoodCard.showAddMealPopup({\r\n        id: mealData.id,\r\n        name: mealData.name,\r\n        calories: mealData.calories,\r\n        serving_size: mealData.serving_size,\r\n        serving_unit: mealData.serving_unit\r\n      });\r\n    }\r\n  }\r\n\r\n  _handleCompleteProfile() {\r\n    console.log('Complete profile clicked by user:', this._getCurrentUserId());\r\n    window.location.hash = '#/profile';\r\n  }\r\n\r\n  _handleSuggestedMealClicked(mealData) {\r\n    console.log('Suggested meal clicked for adding by user', this._getCurrentUserId(), ':', mealData);\r\n    \r\n    this._showSuggestionMealPopup({\r\n      id: mealData.id,\r\n      name: mealData.name,\r\n      calories: mealData.calories,\r\n      serving_size: mealData.serving_size || 1,\r\n      serving_unit: mealData.serving_unit || 'serving'\r\n    });\r\n  }\r\n\r\n  _showSuggestionMealPopup(foodData) {\r\n    console.log('Showing suggestion meal popup for user', this._getCurrentUserId(), ':', foodData);\r\n    \r\n    const existingPopup = document.getElementById('suggestion-meal-popup-overlay');\r\n    if (existingPopup) {\r\n      existingPopup.remove();\r\n    }\r\n    \r\n    const popupHTML = `\r\n      <div class=\"meal-popup-overlay\" id=\"suggestion-meal-popup-overlay\">\r\n        <div class=\"meal-popup\">\r\n          <div class=\"meal-popup-header\">\r\n            <h3>Add ${foodData.name}</h3>\r\n            <button class=\"popup-close\" id=\"suggestion-popup-close\">&times;</button>\r\n          </div>\r\n          <div class=\"meal-popup-content\">\r\n            <div class=\"form-group\">\r\n              <label for=\"suggestion-meal-type\">Meal Type:</label>\r\n              <select id=\"suggestion-meal-type\" required>\r\n                <option value=\"\">Select meal type</option>\r\n                <option value=\"breakfast\">Breakfast</option>\r\n                <option value=\"lunch\">Lunch</option>\r\n                <option value=\"dinner\">Dinner</option>\r\n                <option value=\"snack\">Snack</option>\r\n              </select>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"suggestion-servings\">Servings:</label>\r\n              <input type=\"number\" id=\"suggestion-servings\" min=\"1\" step=\"1\" value=\"1\" required>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"suggestion-log-date\">Date:</label>\r\n              <input type=\"date\" id=\"suggestion-log-date\" value=\"${this._getTodayString()}\" required>\r\n            </div>\r\n            <div class=\"form-actions\">\r\n              <button class=\"btn-cancel\" id=\"suggestion-btn-cancel\">Cancel</button>\r\n              <button class=\"btn-add\" id=\"suggestion-btn-add\">Add</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n    \r\n    document.body.insertAdjacentHTML('beforeend', popupHTML);\r\n    \r\n    const overlay = document.getElementById('suggestion-meal-popup-overlay');\r\n    const closeBtn = document.getElementById('suggestion-popup-close');\r\n    const cancelBtn = document.getElementById('suggestion-btn-cancel');\r\n    const addBtn = document.getElementById('suggestion-btn-add');\r\n    \r\n    function closePopup() {\r\n      if (overlay && overlay.parentNode) {\r\n        overlay.parentNode.removeChild(overlay);\r\n      }\r\n    }\r\n    \r\n    if (closeBtn) {\r\n      closeBtn.addEventListener('click', closePopup);\r\n    }\r\n    \r\n    if (cancelBtn) {\r\n      cancelBtn.addEventListener('click', closePopup);\r\n    }\r\n    \r\n    if (overlay) {\r\n      overlay.addEventListener('click', function(e) {\r\n        if (e.target === overlay) closePopup();\r\n      });\r\n    }\r\n    \r\n    if (addBtn) {\r\n      addBtn.addEventListener('click', async () => {\r\n        const mealType = document.getElementById('suggestion-meal-type')?.value;\r\n        const servings = parseFloat(document.getElementById('suggestion-servings')?.value);\r\n        const logDate = document.getElementById('suggestion-log-date')?.value;\r\n        \r\n        if (!mealType || !servings || !logDate) {\r\n          alert('Please fill all fields');\r\n          return;\r\n        }\r\n        \r\n        try {\r\n          addBtn.disabled = true;\r\n          addBtn.textContent = 'Adding...';\r\n          \r\n          if (foodData.id && !foodData.id.startsWith('default_')) {\r\n            const mealEntryData = {\r\n              recipe_id: foodData.id,\r\n              meal_type: mealType,\r\n              servings: servings,\r\n              log_date: logDate\r\n            };\r\n            \r\n            await mealApiService.addMealFromSuggestion(mealEntryData);\r\n            \r\n            alert('Meal added successfully!');\r\n            closePopup();\r\n            \r\n            await this._refreshDailyData();\r\n            \r\n          } else {\r\n            console.log(`Demo: Added ${foodData.name} - ${mealType} - ${servings} servings on ${logDate} for user ${this._getCurrentUserId()}`);\r\n            alert('This is a default meal. Please select suggestions from \"Find Meals\" for full functionality.');\r\n            closePopup();\r\n          }\r\n        } catch (error) {\r\n          console.error('Error adding meal from suggestion for user', this._getCurrentUserId(), ':', error);\r\n          alert('Failed to add meal. Please try again.');\r\n          addBtn.disabled = false;\r\n          addBtn.textContent = 'Add';\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  async _handleSuggestedMealDetailsClicked(mealData) {\r\n    console.log('Suggested meal details clicked by user', this._getCurrentUserId(), ':', mealData);\r\n    \r\n    if (!mealData.id || mealData.id.startsWith('default_')) {\r\n      this._showMealDetailsPopup({\r\n        name: mealData.name,\r\n        calories: mealData.calories,\r\n        image: mealData.image,\r\n        serving_size: mealData.serving_size || 1,\r\n        serving_unit: mealData.serving_unit || 'serving',\r\n        protein: mealData.protein || 0,\r\n        carbohydrate: mealData.carbohydrate || 0,\r\n        fat: mealData.fat || 0,\r\n        isDefault: true\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      console.log('🔍 Fetching meal details from API for user:', this._getCurrentUserId());\r\n      \r\n      this._showMealDetailsPopup({\r\n        name: mealData.name,\r\n        loading: true\r\n      });\r\n\r\n      const mealDetails = await mealApiService.getMealDetails(mealData.id);\r\n      console.log('✅ Meal details received for user', this._getCurrentUserId(), ':', mealDetails);\r\n\r\n      if (mealDetails && mealDetails.meal) {\r\n        const meal = mealDetails.meal;\r\n        this._showMealDetailsPopup({\r\n          name: meal.food_name,\r\n          calories: meal.calories_per_serving,\r\n          image: meal.image_url,\r\n          serving_size: meal.serving_size,\r\n          serving_unit: meal.serving_unit,\r\n          protein: meal.protein_per_serving,\r\n          carbohydrate: meal.carbs_per_serving,\r\n          fat: meal.fat_per_serving,\r\n          cookTime: meal.recipe_metadata?.cook_time,\r\n          prepTime: meal.recipe_metadata?.prep_time,\r\n          totalTime: meal.recipe_metadata?.total_time,\r\n          ingredients: meal.recipe_metadata?.ingredients,\r\n          nutrition: meal.recipe_metadata?.total_nutrition,\r\n          isDefault: false\r\n        });\r\n      } else {\r\n        throw new Error('No meal details found');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('💥 Error fetching meal details for user', this._getCurrentUserId(), ':', error);\r\n      \r\n      this._showMealDetailsPopup({\r\n        name: mealData.name,\r\n        error: 'Failed to load meal details. Please try again.',\r\n        calories: mealData.calories,\r\n        image: mealData.image\r\n      });\r\n    }\r\n  }\r\n\r\n  _showMealDetailsPopup(mealDetails) {\r\n    const existingPopup = document.getElementById('meal-details-popup-overlay');\r\n    if (existingPopup) {\r\n      existingPopup.remove();\r\n    }\r\n\r\n    let popupContent = '';\r\n    \r\n    if (mealDetails.loading) {\r\n      popupContent = `\r\n        <div class=\"meal-details-loading\">\r\n          <div class=\"loading-spinner\"></div>\r\n          <p>Loading meal details...</p>\r\n        </div>\r\n      `;\r\n    } else if (mealDetails.error) {\r\n      popupContent = `\r\n        <div class=\"meal-details-error\">\r\n          <h4>Error</h4>\r\n          <p>${mealDetails.error}</p>\r\n          <div class=\"basic-meal-info\">\r\n            <img src=\"${mealDetails.image || 'https://images.unsplash.com/photo-1546554137-f86b9593a222'}\" alt=\"${mealDetails.name}\">\r\n            <h3>${mealDetails.name}</h3>\r\n            <p>${mealDetails.calories || 0} kcal per serving</p>\r\n          </div>\r\n        </div>\r\n      `;\r\n    } else {\r\n      popupContent = `\r\n        <div class=\"meal-details-content\">\r\n          <div class=\"meal-details-header\">\r\n            <img src=\"${mealDetails.image || 'https://images.unsplash.com/photo-1546554137-f86b9593a222'}\" alt=\"${mealDetails.name}\">\r\n            <div class=\"meal-basic-info\">\r\n              <h3>${mealDetails.name}</h3>\r\n              <p class=\"meal-calories\">${mealDetails.calories} kcal per ${mealDetails.serving_unit || 'serving'}</p>\r\n              ${mealDetails.totalTime ? `<p class=\"meal-time\">⏱️ ${mealDetails.totalTime} minutes</p>` : ''}\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"meal-nutrition\">\r\n            <h4>Nutrition per serving:</h4>\r\n            <div class=\"nutrition-grid\">\r\n              <div class=\"nutrition-item\">\r\n                <span class=\"nutrition-label\">Protein</span>\r\n                <span class=\"nutrition-value\">${Math.round(mealDetails.protein || 0)}g</span>\r\n              </div>\r\n              <div class=\"nutrition-item\">\r\n                <span class=\"nutrition-label\">Carbs</span>\r\n                <span class=\"nutrition-value\">${Math.round(mealDetails.carbohydrate || 0)}g</span>\r\n              </div>\r\n              <div class=\"nutrition-item\">\r\n                <span class=\"nutrition-label\">Fat</span>\r\n                <span class=\"nutrition-value\">${Math.round(mealDetails.fat || 0)}g</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          ${mealDetails.ingredients && mealDetails.ingredients.length > 0 ? `\r\n            <div class=\"meal-ingredients\">\r\n              <h4>Ingredients:</h4>\r\n              <ul>\r\n                ${mealDetails.ingredients.slice(0, 10).map(ingredient => `<li>${ingredient}</li>`).join('')}\r\n                ${mealDetails.ingredients.length > 10 ? `<li><em>... and ${mealDetails.ingredients.length - 10} more ingredients</em></li>` : ''}\r\n              </ul>\r\n            </div>\r\n          ` : ''}\r\n\r\n          ${mealDetails.nutrition ? `\r\n            <div class=\"detailed-nutrition\">\r\n              <h4>Detailed Nutrition:</h4>\r\n              <div class=\"nutrition-details-grid\">\r\n                ${mealDetails.nutrition.fiber ? `<div>Fiber: ${Math.round(mealDetails.nutrition.fiber)}g</div>` : ''}\r\n                ${mealDetails.nutrition.sugar ? `<div>Sugar: ${Math.round(mealDetails.nutrition.sugar)}g</div>` : ''}\r\n                ${mealDetails.nutrition.sodium ? `<div>Sodium: ${Math.round(mealDetails.nutrition.sodium)}mg</div>` : ''}\r\n                ${mealDetails.nutrition.cholesterol ? `<div>Cholesterol: ${Math.round(mealDetails.nutrition.cholesterol)}mg</div>` : ''}\r\n              </div>\r\n            </div>\r\n          ` : ''}\r\n        </div>\r\n      `;\r\n    }\r\n\r\n    const popupHTML = `\r\n      <div class=\"meal-details-popup-overlay\" id=\"meal-details-popup-overlay\">\r\n        <div class=\"meal-details-popup\">\r\n          <div class=\"meal-details-popup-header\">\r\n            <h2>Meal Details</h2>\r\n            <button class=\"popup-close\" id=\"meal-details-close\">&times;</button>\r\n          </div>\r\n          <div class=\"meal-details-popup-body\">\r\n            ${popupContent}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n\r\n    document.body.insertAdjacentHTML('beforeend', popupHTML);\r\n\r\n    const overlay = document.getElementById('meal-details-popup-overlay');\r\n    const closeBtn = document.getElementById('meal-details-close');\r\n\r\n    const closePopup = () => {\r\n      if (overlay && overlay.parentNode) {\r\n        overlay.parentNode.removeChild(overlay);\r\n      }\r\n    };\r\n\r\n    if (closeBtn) {\r\n      closeBtn.addEventListener('click', closePopup);\r\n    }\r\n\r\n    if (overlay) {\r\n      overlay.addEventListener('click', (e) => {\r\n        if (e.target === overlay) closePopup();\r\n      });\r\n    }\r\n\r\n    const handleEscape = (e) => {\r\n      if (e.key === 'Escape') {\r\n        closePopup();\r\n        document.removeEventListener('keydown', handleEscape);\r\n      }\r\n    };\r\n    document.addEventListener('keydown', handleEscape);\r\n  }\r\n}\r\n\r\nexport default HomePresenter;"],"names":["_regeneratorRuntime","r","t","e","Object","prototype","n","hasOwnProperty","o","Symbol","i","iterator","a","asyncIterator","u","toStringTag","c","defineProperty","value","enumerable","configurable","writable","h","Generator","create","Error","done","method","arg","delegate","d","f","sent","_sent","dispatchException","abrupt","s","type","Context","call","wrap","GeneratorFunction","GeneratorFunctionPrototype","l","p","getPrototypeOf","y","x","v","g","forEach","_invoke","AsyncIterator","_typeof","resolve","__await","then","TypeError","next","w","tryEntries","push","m","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","unshift","pop","values","prev","charAt","slice","stop","rval","complete","finish","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","_defineProperties","_toPropertyKey","key","toPrimitive","String","Number","_toPrimitive","HomePresenter","_ref","container","_classCallCheck","this","lastFetchDate","data","currentCalories","calorieLimit","selectedKeywords","dailyLog","mealEntries","loading","error","currentCategory","mealPlan","plans","totalCalories","targetCalories","suggestedMeals","image","calories","mealSuggestions","isFromAPI","eventHandlers","onAddMealClicked","_handleAddMeal","bind","onDeleteMealClicked","_handleDeleteMeal","onCategoryClicked","_handleCategoryClicked","onPopupClosed","_handlePopupClosed","onFindMealsClicked","_handleFindMeals","onClearAllClicked","_handleClearAll","onKeywordRemoved","_handleKeywordRemoved","onGenerateMealPlan","_handleGenerateMealPlan","onMealPlanItemClicked","_handleMealPlanItemClicked","onCompleteProfileClicked","_handleCompleteProfile","onSuggestedMealClicked","_handleSuggestedMealClicked","onSuggestedMealDetailsClicked","_handleSuggestedMealDetailsClicked","_bindCustomEvents","_startDayChangeMonitor","_init","_callee","_context","window","mealApiService","_checkAndResetForNewDay","_loadFromSessionStorage","_renderView","_fetchDailyData","_fetchMealPlan","t0","console","localStorage","getItem","_this","setInterval","today","_getTodayString","userId","_getCurrentUserId","lastDateKey","concat","log","setItem","sessionStorage","removeItem","innerHTML","now","Date","year","getFullYear","month","getMonth","padStart","day","getDate","mealSuggestionsData","date","JSON","stringify","dailyLogsData","mealPlanData","mealSuggestionsStored","_sessionData$mealSugg","_sessionData$mealSugg2","sessionData","parse","dailyLogsStored","dailyData","mealPlanStored","planData","_fetchDailyData2","_callee2","forceRefresh","_args2","_context2","undefined","getDailyLog","daily_log","meal_entries","_enrichMealEntries","total_calories_consumed","remaining_calories","_saveToSessionStorage","_enrichMealEntries2","_callee3","enrichedEntries","_iterator","_step","meal","enrichedMeal","originalMealId","mealDetails","recipeData","caloriesPerServing","proteinPerServing","carbsPerServing","fatPerServing","_caloriesPerServing","_proteinPerServing","_carbsPerServing","_fatPerServing","_context3","_createForOfIteratorHelper","_objectSpread","id","calories_consumed","protein","protein_consumed","carbs","carbs_consumed","fat","fat_consumed","is_from_recipe","is_from_search","recipe_id","getMealDetails","food_details","food_item_id","food_name","calories_per_serving","protein_per_serving","carbs_per_serving","fat_per_serving","serving_size","serving_unit","image_url","is_recipe","warn","Math","round","servings","parseFloat","toFixed","_debug_info","original_id","user_id","t1","_x","_fetchMealPlan2","_callee4","_mealPlanData$user_in","hasCachedPlan","formattedPlans","errorMessage","_args4","_context4","generateMealPlan","formatMealPlanData","Array","isArray","calculateTotalCalories","user_info","daily_calorie_target","message","includes","getDefaultMealPlan","_this2","document","addEventListener","event","_handleKeywordToggled","detail","keyword","selected","_refreshDailyData","_refreshDailyData2","_callee5","_context5","HomeView","render","afterRender","location","hash","_handleDeleteMeal2","_callee6","mealId","_context6","deleteMealEntry","alert","_x2","category","_this3","setTimeout","showCategoryPopup","hideCategoryPopup","validateKeywords","keywordElement","querySelector","classList","remove","filter","k","categoryCounts","countSelectedKeywordsByCategory","_handleFindMeals2","_callee7","suggestionsData","formattedSuggestions","_context7","getMealSuggestions","suggestions","map","suggestion","carbohydrate","_useFallbackSuggestions","_handleGenerateMealPlan2","_callee8","_context8","mealData","FoodCard","showAddMealPopup","_showSuggestionMealPopup","foodData","_this4","existingPopup","getElementById","popupHTML","body","insertAdjacentHTML","overlay","closeBtn","cancelBtn","addBtn","closePopup","parentNode","removeChild","target","_callee9","_document$getElementB","_document$getElementB2","_document$getElementB3","mealType","logDate","mealEntryData","_context9","disabled","textContent","startsWith","meal_type","log_date","addMealFromSuggestion","_handleSuggestedMealDetailsClicked2","_callee0","_meal$recipe_metadata","_meal$recipe_metadata2","_meal$recipe_metadata3","_meal$recipe_metadata4","_meal$recipe_metadata5","_context0","_showMealDetailsPopup","isDefault","cookTime","recipe_metadata","cook_time","prepTime","prep_time","totalTime","total_time","ingredients","nutrition","total_nutrition","_x3","popupContent","ingredient","join","fiber","sugar","sodium","cholesterol","handleEscape","removeEventListener"],"sourceRoot":""}